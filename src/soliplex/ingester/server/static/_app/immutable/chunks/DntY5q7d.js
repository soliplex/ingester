var E=Object.defineProperty;var S=(r,t,e)=>t in r?E(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e;var h=(r,t,e)=>S(r,typeof t!="symbol"?t+"":t,e);import{f as g,a as p,s as d}from"./j3K8jUZk.js";import{t as m,c as f,r as u,s as y}from"./Dj7rAsuq.js";import{s as W}from"./BMIiHox4.js";import{i as _}from"./C64RYOYL.js";const A="/api/v1",P=3e4;class k extends Error{constructor(t,e,s){super(t),this.statusCode=e,this.endpoint=s,this.name="ApiError"}}class v extends Error{constructor(t,e){super(t),this.endpoint=e,this.name="NetworkError"}}function U(r,t){throw r instanceof Response?new k(`HTTP ${r.status}: ${r.statusText}`,r.status,t):r instanceof TypeError&&r.message.includes("fetch")?new v("Network error: Unable to connect to API",t):r instanceof Error?r:new Error("Unknown error occurred")}function G(r){return r instanceof k?`API Error (${r.statusCode}): ${r.message}`:r instanceof v?`Network Error: ${r.message}`:r instanceof Error?r.message:"An unknown error occurred"}class R{constructor(t=A,e=P){h(this,"baseUrl");h(this,"timeout");this.baseUrl=t,this.timeout=e}async fetchWithTimeout(t,e){const s=new AbortController,n=setTimeout(()=>s.abort(),this.timeout);try{const o=await fetch(t,{...e,signal:s.signal});if(clearTimeout(n),!o.ok){const c=await o.json().catch(()=>({}));throw new Error(c.error||o.statusText)}return o}catch(o){clearTimeout(n),U(o,t)}}async get(t,e){let s=`${this.baseUrl}${t}`;if(e){const o=new URLSearchParams;Object.entries(e).forEach(([c,l])=>{o.append(c,String(l))}),s+=`?${o.toString()}`}return(await this.fetchWithTimeout(s)).json()}async post(t,e){const s=e instanceof FormData;return(await this.fetchWithTimeout(`${this.baseUrl}${t}`,{method:"POST",headers:s?{}:{"Content-Type":"application/json"},body:s?e:JSON.stringify(e)})).json()}async getBatches(){return this.get("/batch/")}async getBatchStatus(t){return this.get("/batch/status",{batch_id:t})}async getDocuments(t,e){const s={};return t&&(s.batch_id=t),e&&(s.source=e),this.get("/document/",s)}async getWorkflowRuns(t,e,s){const n={};return t&&(n.batch_id=t),e&&(n.page=e.page,n.rows_per_page=e.rows_per_page),s&&(n.include_doc_info=!0),this.get("/workflow/",n)}async getWorkflowRunsByStatus(t,e,s,n){const o={status:t};return e&&(o.batch_id=e),s&&(o.page=s.page,o.rows_per_page=s.rows_per_page),n&&(o.include_doc_info=!0),this.get("/workflow/by-status",o)}async getWorkflowRunDetails(t){return this.get(`/workflow/runs/${t}`)}async getWorkflowSteps(t){return this.get("/workflow/steps",{status:t})}async getWorkflowLifecycleHistory(t){return this.get(`/workflow/runs/${t}/lifecycle`)}async getWorkflowDefinitions(){return this.get("/workflow/definitions")}async getWorkflowDefinition(t){return this.get(`/workflow/definitions/${t}`)}async getParamSets(){return this.get("/workflow/param-sets")}async getParamSet(t){return this.get(`/workflow/param-sets/${t}`)}async getParamSetsByTarget(t){return this.get(`/workflow/param-sets/target/${t}`)}async getRunGroups(t){const e=t?{batch_id:t}:void 0;return this.get("/workflow/run-groups",e)}async getRunGroup(t){return this.get(`/workflow/run-groups/${t}`)}async getRunGroupStats(t){return this.get(`/workflow/run-groups/${t}/stats`)}async startWorkflows(t,e,s,n){const o=new URLSearchParams;return o.append("batch_id",String(t)),e&&o.append("workflow_definition_id",e),s!==void 0&&o.append("priority",String(s)),n&&o.append("param_id",n),(await this.fetchWithTimeout(`${this.baseUrl}/batch/start-workflows`,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:o.toString()})).json()}}const H=new R;var $=g('<p class="mt-1 text-sm text-gray-500"> </p>'),j=g('<div class="ml-4 mt-2 flex-shrink-0"><!></div>'),C=g('<div class="border-b border-gray-200 bg-white px-4 py-5 sm:px-6 lg:px-8"><div class="-ml-4 -mt-2 flex flex-wrap items-center justify-between sm:flex-nowrap"><div class="ml-4 mt-2"><h1 class="text-2xl font-bold leading-7 text-gray-900 sm:truncate sm:text-3xl"> </h1> <!></div> <!></div></div>');function F(r,t){var e=C(),s=f(e),n=f(s),o=f(n),c=f(o,!0);u(o);var l=y(o,2);{var b=a=>{var i=$(),w=f(i,!0);u(i),m(()=>d(w,t.description)),p(a,i)};_(l,a=>{t.description&&a(b)})}u(n);var x=y(n,2);{var T=a=>{var i=j(),w=f(i);W(w,()=>t.actions),u(i),p(a,i)};_(x,a=>{t.actions&&a(T)})}u(s),u(e),m(()=>d(c,t.title)),p(r,e)}export{F as P,H as a,G as g};

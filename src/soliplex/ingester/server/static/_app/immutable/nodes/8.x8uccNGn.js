import{a as gt,P as _t}from"../chunks/DntY5q7d.js";import{e as xt}from"../chunks/CBbuBPfZ.js";import{f as l,a as n,s as o}from"../chunks/j3K8jUZk.js";import{p as ut,t as _,a as pt,c as e,s as r,r as t,g as s,u as yt}from"../chunks/Dj7rAsuq.js";import{i as x}from"../chunks/C64RYOYL.js";import{e as ht}from"../chunks/CoFdoVSq.js";import{J as U}from"../chunks/C7-U3mvC.js";const bt=async({params:u})=>{try{return{definition:await gt.getWorkflowDefinition(u.id)}}catch(i){throw console.error("Failed to load workflow definition:",i),xt(404,"Workflow definition not found")}},Mt=Object.freeze(Object.defineProperty({__proto__:null,load:bt},Symbol.toStringTag,{value:"Module"}));var wt=l('<a href="/definitions/workflows" class="text-sm font-medium text-gray-600 hover:text-gray-900">‚Üê Back to definitions</a>'),kt=l('<div class="rounded-lg bg-white p-8 text-center text-gray-500 shadow"><p>No steps defined in this workflow</p></div>'),St=l('<div class="mt-4"><h4 class="text-sm font-medium text-gray-700">Configuration</h4> <pre class="mt-2 overflow-x-auto rounded bg-gray-50 p-3 text-xs text-gray-900"> </pre></div>'),Ot=l('<div class="mt-4"><h4 class="text-sm font-medium text-gray-700">Retry Configuration</h4> <pre class="mt-2 overflow-x-auto rounded bg-gray-50 p-3 text-xs text-gray-900"> </pre></div>'),jt=l('<div class="overflow-hidden rounded-lg border border-gray-200 bg-white"><div class="bg-gray-50 px-6 py-4"><div class="flex items-center gap-3"><span class="flex h-8 w-8 items-center justify-center rounded-full bg-blue-600 text-sm font-semibold text-white"> </span> <div><h3 class="font-semibold text-gray-900"> </h3> <p class="text-sm text-gray-600"> </p></div></div></div> <div class="px-6 py-4"><dl class="grid grid-cols-1 gap-4 sm:grid-cols-2"><div><dt class="text-sm font-medium text-gray-500">Handler</dt> <dd class="mt-1 font-mono text-xs text-gray-900"> </dd></div> <div><dt class="text-sm font-medium text-gray-500">Is Last Step</dt> <dd class="mt-1 text-sm text-gray-900"> </dd></div></dl> <!> <!></div></div>'),Nt=l('<div class="space-y-4"></div>'),Dt=l('<div class="mt-8"><!></div>'),Jt=l('<div class="mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8"><!> <div class="mt-6"><div class="overflow-hidden rounded-lg bg-white shadow"><div class="px-6 py-5"><div class="grid grid-cols-1 gap-4 sm:grid-cols-2"><div><dt class="text-sm font-medium text-gray-500">Definition ID</dt> <dd class="mt-1 font-mono text-sm text-gray-900"> </dd></div> <div><dt class="text-sm font-medium text-gray-500">Name</dt> <dd class="mt-1 text-sm text-gray-900"> </dd></div> <div><dt class="text-sm font-medium text-gray-500">Total Steps</dt> <dd class="mt-1 text-sm text-gray-900"> </dd></div></div></div></div> <div class="mt-8"><h2 class="mb-4 text-lg font-semibold text-gray-900">Workflow Steps</h2> <!></div> <!> <div class="mt-8"><!></div></div></div>');function zt(u,i){ut(i,!0);const X=a=>Array.isArray(a.steps)?a.steps:a.steps&&typeof a.steps=="object"&&"items"in a.steps?a.steps.items:Array.isArray(a.items)?a.items:[],p=yt(()=>X(i.data.definition).sort((a,d)=>a.step_number-d.step_number));var y=Jt(),C=e(y);_t(C,{get title(){return`Workflow Definition: ${i.data.definition.name??""}`},actions:d=>{var m=wt();n(d,m)}});var P=r(C,2),h=e(P),T=e(h),H=e(T),b=e(H),I=r(e(b),2),Z=e(I,!0);t(I),t(b);var w=r(b,2),M=r(e(w),2),$=e(M,!0);t(M),t(w);var z=r(w,2),B=r(e(z),2),tt=e(B,!0);t(B),t(z),t(H),t(T),t(h);var k=r(h,2),et=r(e(k),2);{var at=a=>{var d=kt();n(a,d)},rt=a=>{var d=Nt();ht(d,21,()=>s(p),m=>m.step_number,(m,v)=>{var S=jt(),O=e(S),R=e(O),j=e(R),st=e(j,!0);t(j);var V=r(j,2),N=e(V),ot=e(N,!0);t(N);var Y=r(N,2),vt=e(Y);t(Y),t(V),t(R),t(O);var q=r(O,2),D=e(q),J=e(D),E=r(e(J),2),nt=e(E,!0);t(E),t(J);var G=r(J,2),K=r(e(G),2),lt=e(K,!0);t(K),t(G),t(D);var Q=r(D,2);{var mt=f=>{var c=St(),g=r(e(c),2),W=e(g,!0);t(g),t(c),_(A=>o(W,A),[()=>JSON.stringify(s(v).config,null,2)]),n(f,c)};x(Q,f=>{Object.keys(s(v).config).length>0&&f(mt)})}var ft=r(Q,2);{var ct=f=>{var c=Ot(),g=r(e(c),2),W=e(g,!0);t(g),t(c),_(A=>o(W,A),[()=>JSON.stringify(s(v).retry_config,null,2)]),n(f,c)};x(ft,f=>{s(v).retry_config&&f(ct)})}t(q),t(S),_(()=>{o(st,s(v).step_number),o(ot,s(v).step_name),o(vt,`Type: ${s(v).step_type??""}`),o(nt,s(v).handler),o(lt,s(v).is_last_step?"Yes":"No")}),n(m,S)}),t(d),n(a,d)};x(et,a=>{s(p).length===0?a(at):a(rt,!1)})}t(k);var F=r(k,2);{var dt=a=>{var d=Dt(),m=e(d);U(m,{get data(){return i.data.definition.metadata},title:"Workflow Metadata"}),t(d),n(a,d)};x(F,a=>{i.data.definition.metadata&&Object.keys(i.data.definition.metadata).length>0&&a(dt)})}var L=r(F,2),it=e(L);U(it,{get data(){return i.data.definition},title:"Complete Definition (JSON)"}),t(L),t(P),t(y),_(()=>{o(Z,i.data.definition.id),o($,i.data.definition.name),o(tt,s(p).length)}),n(u,y),pt()}export{zt as component,Mt as universal};

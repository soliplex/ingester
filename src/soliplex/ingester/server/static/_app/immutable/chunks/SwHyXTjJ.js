import{p as J,c as m,k as s,r as e,l as o,g as t,u as z,x as w,e as c,q as L,m as l,h as _,j as K,B as ma,y as pa,d as ca,C as xa}from"./DCSobnyE.js";import{S as wa}from"./D5EJ8H-Q.js";import{f as ga,t as q,a as ha,b as ka}from"./B5MikgXH.js";import{E as ya}from"./BhmCzetO.js";var ba=m('<h4 class="mt-2 text-sm font-semibold text-gray-700"> </h4>'),Sa=m('<p class="mt-2 text-sm text-gray-600"> </p>'),Wa=m('<span>Source: <span class="font-medium"> </span></span>'),Da=m('<span>Size: <span class="font-medium"> </span></span>'),Ta=m('<span>Type: <span class="font-medium"> </span></span>'),za=m('<div class="mt-1 flex flex-wrap gap-3 text-xs text-gray-500"><!> <!> <!> <span class="font-mono text-xs"> </span></div>'),Ea=m('<p class="mt-1 text-xs text-gray-500"> </p>'),Ba=m('<span>Progress: <span class="font-medium"> </span></span>'),Ca=m('<div class="mt-1 font-medium"> </div>'),Ia=m('<div class="mt-2 rounded bg-gray-50 p-2 text-xs text-gray-700"> </div>'),Pa=m('<a class="block rounded-lg border border-gray-200 bg-white p-4 transition hover:border-blue-300 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-blue-500"><div class="flex items-start justify-between"><div class="flex-1"><div class="flex items-center gap-2"><h3 class="text-sm font-bold text-gray-900"> </h3> <!></div> <!> <!> <div class="mt-2 flex flex-wrap gap-4 text-xs text-gray-500"><span>Definition: <span class="font-medium"> </span></span> <span>Parameter Set: <span class="font-medium"> </span></span> <span>Batch: <span class="font-medium"> </span></span> <!></div></div> <div class="ml-4 text-right text-xs text-gray-500"><div> </div> <!></div></div> <!></a>');function Ra(E,d){J(d,!0);const b=r=>"workflow_run"in r,n=z(()=>b(d.workflow)?d.workflow.workflow_run:d.workflow),u=z(()=>b(d.workflow)?d.workflow.document_info:null),y=z(()=>(b(d.workflow),d.workflow.steps)),D=z(()=>()=>!t(y)||t(y).length===0?null:`${t(y).filter(a=>a.status==="COMPLETED").length}/${t(y).length}`);var i=Pa(),h=s(i),k=s(h),S=s(k),B=s(S),Q=s(B);e(B);var V=o(B,2);wa(V,{get status(){return t(n).status}}),e(S);var F=o(S,2);{var X=r=>{var a=ba(),v=s(a);e(a),c(x=>{L(a,"title",t(u).uri),l(v,`URI: ${x??""}`)},[()=>q(t(u).uri,50)]),_(r,a)},Y=r=>{var a=Sa(),v=s(a);e(a),c(x=>l(v,`Document: ${x??""}`),[()=>q(t(n).doc_id,40)]),_(r,a)};w(F,r=>{var a;(a=t(u))!=null&&a.uri?r(X):r(Y,!1)})}var H=o(F,2);{var Z=r=>{var a=za(),v=s(a);{var x=f=>{var p=Wa(),g=o(s(p)),W=s(g,!0);e(g),e(p),c(()=>l(W,t(u).source)),_(f,p)};w(v,f=>{t(u).source&&f(x)})}var T=o(v,2);{var da=f=>{var p=Da(),g=o(s(p)),W=s(g,!0);e(g),e(p),c(ua=>l(W,ua),[()=>ka(t(u).file_size)]),_(f,p)};w(T,f=>{t(u).file_size!==null&&f(da)})}var G=o(T,2);{var fa=f=>{var p=Ta(),g=o(s(p)),W=s(g,!0);e(g),e(p),c(()=>l(W,t(u).mime_type)),_(f,p)};w(G,f=>{t(u).mime_type&&f(fa)})}var j=o(G,2),_a=s(j);e(j),e(a),c(f=>{L(j,"title",t(n).doc_id),l(_a,`Hash: ${f??""}`)},[()=>q(t(n).doc_id,20)]),_(r,a)},$=r=>{var a=Ea(),v=s(a);e(a),c(()=>l(v,`Source: ${t(n).run_params.source??""}`)),_(r,a)};w(H,r=>{t(u)?r(Z):r($,!1)})}var M=o(H,2),C=s(M),N=o(s(C)),aa=s(N,!0);e(N),e(C);var I=o(C,2),O=o(s(I)),ta=s(O,!0);e(O),e(I);var P=o(I,2),U=o(s(P)),ra=s(U);e(U),e(P);var ea=o(P,2);{var sa=r=>{var a=Ba(),v=o(s(a)),x=s(v,!0);e(v),e(a),c(T=>l(x,T),[()=>t(D)()]),_(r,a)};w(ea,r=>{t(D)()&&r(sa)})}e(M),e(k);var A=o(k,2),R=s(A),oa=s(R,!0);e(R);var na=o(R,2);{var ia=r=>{var a=Ca(),v=s(a,!0);e(a),c(x=>l(v,x),[()=>ha(t(n).duration)]),_(r,a)};w(na,r=>{t(n).duration!==null&&r(ia)})}e(A),e(h);var va=o(h,2);{var la=r=>{var a=Ia(),v=s(a,!0);e(a),c(()=>l(v,t(n).status_message)),_(r,a)};w(va,r=>{t(n).status_message&&r(la)})}e(i),c(r=>{L(i,"href",`/workflows/${t(n).id??""}`),l(Q,`Workflow #${t(n).id??""}`),l(aa,t(n).workflow_definition_id),l(ta,t(n).run_params.param_id),l(ra,`#${t(n).batch_id??""}`),l(oa,r)},[()=>ga(t(n).created_date)]),_(E,i),K()}var ja=m('<div class="space-y-3"></div>');function Ma(E,d){J(d,!0),ma(d,"compact",3,!1);function b(i){return"workflow_run"in i?i.workflow_run.id:i.id}var n=pa(),u=ca(n);{var y=i=>{ya(i,{title:"No workflows found",description:"There are no workflow runs to display."})},D=i=>{var h=ja();xa(h,21,()=>d.workflows,k=>b(k),(k,S)=>{Ra(k,{get workflow(){return t(S)}})}),e(h),_(i,h)};w(u,i=>{d.workflows.length===0?i(y):i(D,!1)})}_(E,n),K()}export{Ma as W};

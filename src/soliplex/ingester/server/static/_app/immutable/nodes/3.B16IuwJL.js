import{a as W,P as X}from"../chunks/CcgKWVoU.js";import{f as d,s as x,a as i,c as Y}from"../chunks/j3K8jUZk.js";import{p as E,c as e,r as t,s as f,g as F,u as Z,t as y,a as P,n as $,f as aa}from"../chunks/Dj7rAsuq.js";import{i as m}from"../chunks/C64RYOYL.js";import{e as ta}from"../chunks/CoFdoVSq.js";import{s as ea}from"../chunks/nNctCYpw.js";import{b as ra,a as sa}from"../chunks/CR8k5L1G.js";import{E as oa}from"../chunks/BiStXDTl.js";import{E as na}from"../chunks/KofPBhdr.js";const ia=async()=>{try{return{batches:await W.getBatches()}}catch(u){return console.error("Failed to load batches:",u),{batches:[],error:u}}},Oa=Object.freeze(Object.defineProperty({__proto__:null,load:ia},Symbol.toStringTag,{value:"Module"}));var va=d('<span class="inline-flex items-center rounded-full bg-green-100 px-2 py-1 text-xs font-medium text-green-800">✓ Complete</span>'),da=d('<span class="inline-flex items-center rounded-full bg-blue-100 px-2 py-1 text-xs font-medium text-blue-800">⟳ In Progress</span>'),la=d('<div class="flex items-center gap-1 text-gray-600"><span class="font-medium"> </span> <span>documents</span></div>'),ca=d('<span class="text-green-600"> </span>'),fa=d('<span class="text-blue-600"> </span>'),ma=d('<span class="text-gray-500"> </span>'),ua=d('<span class="text-red-600"> </span>'),_a=d('<div class="flex items-center gap-2 text-gray-600"><!> <!> <!> <!></div>'),xa=d('<div class="mt-1 font-medium"> </div>'),ga=d('<a class="block rounded-lg border border-gray-200 bg-white p-5 transition hover:border-blue-300 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-blue-500"><div class="flex items-start justify-between"><div class="flex-1"><div class="flex items-center gap-2"><h3 class="text-lg font-semibold text-gray-900"> </h3> <!></div> <p class="mt-1 text-sm text-gray-600">Source: <span class="font-medium"> </span></p> <div class="mt-3 flex flex-wrap gap-4 text-sm"><!> <!></div></div> <div class="ml-4 text-right text-xs text-gray-500"><div> </div> <!></div></div></a>');function ba(u,a){E(a,!0);const g=Z(()=>a.batch.completed_date!==null);var _=ga(),C=e(_),b=e(C),c=e(b),v=e(c),l=e(v,!0);t(v);var h=f(v,2);{var H=r=>{var s=va();i(r,s)},I=r=>{var s=da();i(r,s)};m(h,r=>{F(g)?r(H):r(I,!1)})}t(c);var S=f(c,2),j=f(e(S)),L=e(j,!0);t(j),t(S);var T=f(S,2),D=e(T);{var N=r=>{var s=la(),p=e(s),k=e(p,!0);t(p),$(2),t(s),y(()=>x(k,a.documentCount)),i(r,s)};m(D,r=>{a.documentCount!==void 0&&r(N)})}var V=f(D,2);{var q=r=>{var s=_a(),p=e(s);{var k=o=>{var n=ca(),w=e(n);t(n),y(()=>x(w,`✓ ${a.workflowCounts.completed??""}`)),i(o,n)};m(p,o=>{a.workflowCounts.completed&&o(k)})}var O=f(p,2);{var K=o=>{var n=fa(),w=e(n);t(n),y(()=>x(w,`⟳ ${a.workflowCounts.running??""}`)),i(o,n)};m(O,o=>{a.workflowCounts.running&&o(K)})}var z=f(O,2);{var Q=o=>{var n=ma(),w=e(n);t(n),y(()=>x(w,`⏸ ${a.workflowCounts.pending??""}`)),i(o,n)};m(z,o=>{a.workflowCounts.pending&&o(Q)})}var R=f(z,2);{var U=o=>{var n=ua(),w=e(n);t(n),y(()=>x(w,`✗ ${a.workflowCounts.failed??""}`)),i(o,n)};m(R,o=>{a.workflowCounts.failed&&o(U)})}t(s),i(r,s)};m(V,r=>{a.workflowCounts&&r(q)})}t(T),t(b);var M=f(b,2),B=e(M),A=e(B);t(B);var G=f(B,2);{var J=r=>{var s=xa(),p=e(s,!0);t(s),y(k=>x(p,k),[()=>sa(a.batch.duration)]),i(r,s)};m(G,r=>{a.batch.duration!==null&&r(J)})}t(M),t(C),t(_),y(r=>{ea(_,"href",`/batches/${a.batch.id??""}`),x(l,a.batch.name),x(L,a.batch.source),x(A,`Started: ${r??""}`)},[()=>ra(a.batch.start_date)]),i(u,_),P()}var ha=d('<div class="space-y-4"></div>');function pa(u,a){E(a,!0);var g=Y(),_=aa(g);{var C=c=>{oa(c,{title:"No batches found",description:"There are no batches to display."})},b=c=>{var v=ha();ta(v,21,()=>a.batches,l=>l.id,(l,h)=>{ba(l,{get batch(){return F(h)}})}),t(v),i(c,v)};m(_,c=>{a.batches.length===0?c(C):c(b,!1)})}i(u,g),P()}var wa=d('<div class="mt-6"><!></div>'),ya=d('<div class="mt-6"><!></div>'),Ca=d('<div class="mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8"><!> <!></div>');function za(u,a){E(a,!0);var g=Ca(),_=e(g);X(_,{title:"Batches",description:"View and manage document batches"});var C=f(_,2);{var b=v=>{var l=wa(),h=e(l);na(h,{get error(){return a.data.error}}),t(l),i(v,l)},c=v=>{var l=ya(),h=e(l);pa(h,{get batches(){return a.data.batches}}),t(l),i(v,l)};m(C,v=>{a.data.error?v(b):v(c,!1)})}t(g),i(u,g),P()}export{za as component,Oa as universal};

import{a as W,P as X}from"../chunks/hTc4Iqh7.js";import{p as B,c as d,k as e,r as t,l as u,x as f,g as z,u as Y,e as y,q as Z,m as x,h as i,j as E,n as $,y as aa,d as ta,C as ea}from"../chunks/DCSobnyE.js";import{c as ra,a as sa}from"../chunks/B5MikgXH.js";import{E as na}from"../chunks/BhmCzetO.js";import{E as oa}from"../chunks/DQ-Inkti.js";const ia=async()=>{try{return{batches:await W.getBatches()}}catch(m){return console.error("Failed to load batches:",m),{batches:[],error:m}}},Pa=Object.freeze(Object.defineProperty({__proto__:null,load:ia},Symbol.toStringTag,{value:"Module"}));var va=d('<span class="inline-flex items-center rounded-full bg-green-100 px-2 py-1 text-xs font-medium text-green-800">✓ Complete</span>'),da=d('<span class="inline-flex items-center rounded-full bg-blue-100 px-2 py-1 text-xs font-medium text-blue-800">⟳ In Progress</span>'),la=d('<div class="flex items-center gap-1 text-gray-600"><span class="font-medium"> </span> <span>documents</span></div>'),ca=d('<span class="text-green-600"> </span>'),ua=d('<span class="text-blue-600"> </span>'),fa=d('<span class="text-gray-500"> </span>'),ma=d('<span class="text-red-600"> </span>'),_a=d('<div class="flex items-center gap-2 text-gray-600"><!> <!> <!> <!></div>'),xa=d('<div class="mt-1 font-medium"> </div>'),ga=d('<a class="block rounded-lg border border-gray-200 bg-white p-5 transition hover:border-blue-300 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-blue-500"><div class="flex items-start justify-between"><div class="flex-1"><div class="flex items-center gap-2"><h3 class="text-lg font-semibold text-gray-900"> </h3> <!></div> <p class="mt-1 text-sm text-gray-600">Source: <span class="font-medium"> </span></p> <div class="mt-3 flex flex-wrap gap-4 text-sm"><!> <!></div></div> <div class="ml-4 text-right text-xs text-gray-500"><div> </div> <!></div></div></a>');function ha(m,a){B(a,!0);const g=Y(()=>a.batch.completed_date!==null);var _=ga(),C=e(_),h=e(C),c=e(h),v=e(c),l=e(v,!0);t(v);var b=u(v,2);{var F=r=>{var s=va();i(r,s)},H=r=>{var s=da();i(r,s)};f(b,r=>{z(g)?r(F):r(H,!1)})}t(c);var S=u(c,2),P=u(e(S)),I=e(P,!0);t(P),t(S);var T=u(S,2),D=e(T);{var L=r=>{var s=la(),p=e(s),k=e(p,!0);t(p),$(2),t(s),y(()=>x(k,a.documentCount)),i(r,s)};f(D,r=>{a.documentCount!==void 0&&r(L)})}var N=u(D,2);{var V=r=>{var s=_a(),p=e(s);{var k=n=>{var o=ca(),w=e(o);t(o),y(()=>x(w,`✓ ${a.workflowCounts.completed??""}`)),i(n,o)};f(p,n=>{a.workflowCounts.completed&&n(k)})}var O=u(p,2);{var K=n=>{var o=ua(),w=e(o);t(o),y(()=>x(w,`⟳ ${a.workflowCounts.running??""}`)),i(n,o)};f(O,n=>{a.workflowCounts.running&&n(K)})}var q=u(O,2);{var Q=n=>{var o=fa(),w=e(o);t(o),y(()=>x(w,`⏸ ${a.workflowCounts.pending??""}`)),i(n,o)};f(q,n=>{a.workflowCounts.pending&&n(Q)})}var R=u(q,2);{var U=n=>{var o=ma(),w=e(o);t(o),y(()=>x(w,`✗ ${a.workflowCounts.failed??""}`)),i(n,o)};f(R,n=>{a.workflowCounts.failed&&n(U)})}t(s),i(r,s)};f(N,r=>{a.workflowCounts&&r(V)})}t(T),t(h);var M=u(h,2),j=e(M),A=e(j);t(j);var G=u(j,2);{var J=r=>{var s=xa(),p=e(s,!0);t(s),y(k=>x(p,k),[()=>sa(a.batch.duration)]),i(r,s)};f(G,r=>{a.batch.duration!==null&&r(J)})}t(M),t(C),t(_),y(r=>{Z(_,"href",`/batches/${a.batch.id??""}`),x(l,a.batch.name),x(I,a.batch.source),x(A,`Started: ${r??""}`)},[()=>ra(a.batch.start_date)]),i(m,_),E()}var ba=d('<div class="space-y-4"></div>');function pa(m,a){B(a,!0);var g=aa(),_=ta(g);{var C=c=>{na(c,{title:"No batches found",description:"There are no batches to display."})},h=c=>{var v=ba();ea(v,21,()=>a.batches,l=>l.id,(l,b)=>{ha(l,{get batch(){return z(b)}})}),t(v),i(c,v)};f(_,c=>{a.batches.length===0?c(C):c(h,!1)})}i(m,g),E()}var wa=d('<div class="mt-6"><!></div>'),ya=d('<div class="mt-6"><!></div>'),Ca=d('<div class="mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8"><!> <!></div>');function Ta(m,a){B(a,!0);var g=Ca(),_=e(g);X(_,{title:"Batches",description:"View and manage document batches"});var C=u(_,2);{var h=v=>{var l=wa(),b=e(l);oa(b,{get error(){return a.data.error}}),t(l),i(v,l)},c=v=>{var l=ya(),b=e(l);pa(b,{get batches(){return a.data.batches}}),t(l),i(v,l)};f(C,v=>{a.data.error?v(h):v(c,!1)})}t(g),i(m,g),E()}export{Ta as component,Pa as universal};

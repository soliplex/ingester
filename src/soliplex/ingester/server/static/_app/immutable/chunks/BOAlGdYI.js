var E=Object.defineProperty;var S=(r,t,e)=>t in r?E(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e;var h=(r,t,e)=>S(r,typeof t!="symbol"?t+"":t,e);import{f as g,a as w,s as m}from"./j3K8jUZk.js";import{t as d,c as u,r as f,s as y}from"./Dj7rAsuq.js";import{s as A}from"./BMIiHox4.js";import{i as _}from"./C64RYOYL.js";const P="/api/v1",U=3e4;class v extends Error{constructor(t,e,s){super(t),this.statusCode=e,this.endpoint=s,this.name="ApiError"}}class k extends Error{constructor(t,e){super(t),this.endpoint=e,this.name="NetworkError"}}function W(r,t){throw r instanceof Response?new v(`HTTP ${r.status}: ${r.statusText}`,r.status,t):r instanceof TypeError&&r.message.includes("fetch")?new k("Network error: Unable to connect to API",t):r instanceof Error?r:new Error("Unknown error occurred")}function L(r){return r instanceof v?`API Error (${r.statusCode}): ${r.message}`:r instanceof k?`Network Error: ${r.message}`:r instanceof Error?r.message:"An unknown error occurred"}class R{constructor(t=P,e=U){h(this,"baseUrl");h(this,"timeout");this.baseUrl=t,this.timeout=e}async fetchWithTimeout(t,e){const s=new AbortController,n=setTimeout(()=>s.abort(),this.timeout);try{const o=await fetch(t,{...e,signal:s.signal});if(clearTimeout(n),!o.ok){const c=await o.json().catch(()=>({}));throw new Error(c.error||o.statusText)}return o}catch(o){clearTimeout(n),W(o,t)}}async get(t,e){let s=`${this.baseUrl}${t}`;if(e){const o=new URLSearchParams;Object.entries(e).forEach(([c,l])=>{o.append(c,String(l))}),s+=`?${o.toString()}`}return(await this.fetchWithTimeout(s)).json()}async post(t,e){const s=e instanceof FormData;return(await this.fetchWithTimeout(`${this.baseUrl}${t}`,{method:"POST",headers:s?{}:{"Content-Type":"application/json"},body:s?e:JSON.stringify(e)})).json()}async getBatches(){return this.get("/batch/")}async getBatchStatus(t){return this.get("/batch/status",{batch_id:t})}async getDocuments(t,e){const s={};return t&&(s.batch_id=t),e&&(s.source=e),this.get("/document/",s)}async getWorkflowRuns(t,e){const s={};return t&&(s.batch_id=t),e&&(s.page=e.page,s.rows_per_page=e.rows_per_page),this.get("/workflow/",s)}async getWorkflowRunsByStatus(t,e,s){const n={status:t};return e&&(n.batch_id=e),s&&(n.page=s.page,n.rows_per_page=s.rows_per_page),this.get("/workflow/by-status",n)}async getWorkflowRunDetails(t){return this.get(`/workflow/runs/${t}`)}async getWorkflowSteps(t){return this.get("/workflow/steps",{status:t})}async getWorkflowDefinitions(){return this.get("/workflow/definitions")}async getWorkflowDefinition(t){return this.get(`/workflow/definitions/${t}`)}async getParamSets(){return this.get("/workflow/param-sets")}async getParamSet(t){return this.get(`/workflow/param-sets/${t}`)}async getParamSetsByTarget(t){return this.get(`/workflow/param-sets/target/${t}`)}async getRunGroups(t){const e=t?{batch_id:t}:void 0;return this.get("/workflow/run-groups",e)}async getRunGroup(t){return this.get(`/workflow/run-groups/${t}`)}async getRunGroupStats(t){return this.get(`/workflow/run-groups/${t}/stats`)}async startWorkflows(t,e,s,n){const o=new URLSearchParams;return o.append("batch_id",String(t)),e&&o.append("workflow_definition_id",e),s!==void 0&&o.append("priority",String(s)),n&&o.append("param_id",n),(await this.fetchWithTimeout(`${this.baseUrl}/batch/start-workflows`,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:o.toString()})).json()}}const F=new R;var $=g('<p class="mt-1 text-sm text-gray-500"> </p>'),j=g('<div class="ml-4 mt-2 flex-shrink-0"><!></div>'),C=g('<div class="border-b border-gray-200 bg-white px-4 py-5 sm:px-6 lg:px-8"><div class="-ml-4 -mt-2 flex flex-wrap items-center justify-between sm:flex-nowrap"><div class="ml-4 mt-2"><h1 class="text-2xl font-bold leading-7 text-gray-900 sm:truncate sm:text-3xl"> </h1> <!></div> <!></div></div>');function H(r,t){var e=C(),s=u(e),n=u(s),o=u(n),c=u(o,!0);f(o);var l=y(o,2);{var b=a=>{var i=$(),p=u(i,!0);f(i),d(()=>m(p,t.description)),w(a,i)};_(l,a=>{t.description&&a(b)})}f(n);var x=y(n,2);{var T=a=>{var i=j(),p=u(i);A(p,()=>t.actions),f(i),w(a,i)};_(x,a=>{t.actions&&a(T)})}f(s),f(e),d(()=>m(c,t.title)),w(r,e)}export{H as P,F as a,L as g};

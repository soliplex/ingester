var Oe=Object.defineProperty;var Ce=(n,t,o)=>t in n?Oe(n,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[t]=o;var $t=(n,t,o)=>Ce(n,typeof t!="symbol"?t+"":t,o);import{p as st,a as It,u as Te,b as je,o as Ie,g as s,s as pt,c as ct,t as Me,f as g,d as bt,i as R,e as r,h as v,j as nt,k as Ot,l as te,m as a,r as e,n as ee,q as at,v as ge,w as k,x as _,y as Ne,z as Wt,A as ht,B as _e,C as Et,D as _t,F as kt,G as xe,H as he,I as we,J as be,E as We,K as re,L as Gt,M as At,N as Ae,O as ae,P as Le,Q as Be,R as Ge,S as ye,T as pe,U as ke,V as ze}from"./app.js";const Rs="1767626272819",Fe="modulepreload",Ue=function(n,t){return new URL(n,t).href},fe={},St=function(t,o,i){let m=Promise.resolve();if(o&&o.length>0){let x=function(f){return Promise.all(f.map(w=>Promise.resolve(w).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};const l=document.getElementsByTagName("link"),c=document.querySelector("meta[property=csp-nonce]"),d=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));m=x(o.map(f=>{if(f=Ue(f,i),f in fe)return;fe[f]=!0;const w=f.endsWith(".css"),h=w?'[rel="stylesheet"]':"";if(!!i)for(let P=l.length-1;P>=0;P--){const M=l[P];if(M.href===f&&(!w||M.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${f}"]${h}`))return;const S=document.createElement("link");if(S.rel=w?"stylesheet":Fe,w||(S.as="script"),S.crossOrigin="",S.href=f,d&&S.setAttribute("nonce",d),document.head.appendChild(S),w)return new Promise((P,M)=>{S.addEventListener("load",P),S.addEventListener("error",()=>M(new Error(`Unable to preload CSS for ${f}`)))})}))}function u(x){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=x,window.dispatchEvent(l),!l.defaultPrevented)throw x}return m.then(x=>{for(const l of x||[])l.status==="rejected"&&u(l.reason);return t().catch(u)})},Es={};var Ve=g('<div id="svelte-announcer" aria-live="assertive" aria-atomic="true" style="position: absolute; left: 0; top: 0; clip: rect(0 0 0 0); clip-path: inset(50%); overflow: hidden; white-space: nowrap; width: 1px; height: 1px"><!></div>'),He=g("<!> <!>",1);function Je(n,t){st(t,!0);let o=It(t,"components",23,()=>[]),i=It(t,"data_0",3,null),m=It(t,"data_1",3,null);Te(()=>t.stores.page.set(t.page)),je(()=>{t.stores,t.page,t.constructors,o(),t.form,i(),m(),t.stores.page.notify()});let u=pt(!1),x=pt(!1),l=pt(null);Ie(()=>{const P=t.stores.page.subscribe(()=>{s(u)&&(ct(x,!0),Me().then(()=>{ct(l,document.title||"untitled page",!0)}))});return ct(u,!0),P});const c=at(()=>t.constructors[1]);var d=He(),f=bt(d);{var w=P=>{const M=at(()=>t.constructors[0]);var G=Ot(),q=bt(G);te(q,()=>s(M),(T,A)=>{ee(A(T,{get data(){return i()},get form(){return t.form},get params(){return t.page.params},children:(W,j)=>{var I=Ot(),U=bt(I);te(U,()=>s(c),(C,D)=>{ee(D(C,{get data(){return m()},get form(){return t.form},get params(){return t.page.params}}),y=>o()[1]=y,()=>{var y;return(y=o())==null?void 0:y[1]})}),v(W,I)},$$slots:{default:!0}}),W=>o()[0]=W,()=>{var W;return(W=o())==null?void 0:W[0]})}),v(P,G)},h=P=>{const M=at(()=>t.constructors[0]);var G=Ot(),q=bt(G);te(q,()=>s(M),(T,A)=>{ee(A(T,{get data(){return i()},get form(){return t.form},get params(){return t.page.params}}),W=>o()[0]=W,()=>{var W;return(W=o())==null?void 0:W[0]})}),v(P,G)};R(f,P=>{t.constructors[1]?P(w):P(h,!1)})}var b=r(f,2);{var S=P=>{var M=Ve(),G=a(M);{var q=T=>{var A=ge();k(()=>_(A,s(l))),v(T,A)};R(G,T=>{s(x)&&T(q)})}e(M),v(P,M)};R(b,P=>{s(u)&&P(S)})}v(n,d),nt()}const Ds=Ne(Je),Os=[()=>St(()=>Promise.resolve().then(()=>na),void 0,import.meta.url),()=>St(()=>Promise.resolve().then(()=>ia),void 0,import.meta.url),()=>St(()=>Promise.resolve().then(()=>tr),void 0,import.meta.url),()=>St(()=>Promise.resolve().then(()=>br),void 0,import.meta.url),()=>St(()=>Promise.resolve().then(()=>Lr),void 0,import.meta.url),()=>St(()=>Promise.resolve().then(()=>qr),void 0,import.meta.url),()=>St(()=>Promise.resolve().then(()=>vo),void 0,import.meta.url),()=>St(()=>Promise.resolve().then(()=>ho),void 0,import.meta.url),()=>St(()=>Promise.resolve().then(()=>Co),void 0,import.meta.url),()=>St(()=>Promise.resolve().then(()=>Uo),void 0,import.meta.url),()=>St(()=>Promise.resolve().then(()=>ns),void 0,import.meta.url),()=>St(()=>Promise.resolve().then(()=>ks),void 0,import.meta.url)],Cs=[],Ts={"/":[2],"/batches":[3],"/batches/[id]":[4],"/definitions/params":[5],"/definitions/params/[id]":[6],"/definitions/workflows":[7],"/definitions/workflows/[id]":[8],"/stats":[9],"/workflows":[10],"/workflows/[id]":[11]},Se={handleError:(({error:n})=>{console.error(n)}),reroute:(()=>{}),transport:{}},qe=Object.fromEntries(Object.entries(Se.transport).map(([n,t])=>[n,t.decode])),js=Object.fromEntries(Object.entries(Se.transport).map(([n,t])=>[n,t.encode])),Is=!1,Ms=(n,t)=>qe[n](t),Ye=!1,Ke=!1,Qe=Object.freeze(Object.defineProperty({__proto__:null,prerender:Ke,ssr:Ye},Symbol.toStringTag,{value:"Module"}));var Xe=g('<a><span class="mr-2" aria-hidden="true"> </span> </a>'),Ze=xe('<svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>'),$e=xe('<svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>'),ta=g('<a><span class="mr-2" aria-hidden="true"> </span> </a>'),ea=g('<div class="sm:hidden" id="mobile-menu"><div class="space-y-1 pb-3 pt-2"></div></div>'),aa=g('<nav class="bg-white shadow-sm" aria-label="Main navigation"><div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8"><div class="flex h-16 justify-between"><div class="flex"><div class="flex flex-shrink-0 items-center"><h1 class="text-xl font-bold text-gray-900">Soliplex Ingester</h1></div> <div class="hidden sm:ml-6 sm:flex sm:space-x-4"></div></div> <div class="-mr-2 flex items-center sm:hidden"><button type="button" class="inline-flex items-center justify-center rounded-md p-2 text-gray-400 hover:bg-gray-100 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500" aria-controls="mobile-menu"><span class="sr-only">Open main menu</span> <!></button></div></div></div> <!></nav>');function ra(n,t){st(t,!0);const o=()=>he(we,"$page",i),[i,m]=_e(),u=[{href:"/",label:"Dashboard",icon:"üìä"},{href:"/batches",label:"Batches",icon:"üì¶"},{href:"/workflows",label:"Workflows",icon:"‚öôÔ∏è"},{href:"/definitions/workflows",label:"Workflow Definitions",icon:"üìã"},{href:"/definitions/params",label:"Parameter ",icon:"‚öôÔ∏è"},{href:"/stats",label:"Statistics",icon:"üìà"}];let x=pt(!1);function l(){ct(x,!s(x))}function c(){ct(x,!1)}function d(j){return j==="/"?o().url.pathname==="/":o().url.pathname.startsWith(j)}var f=aa(),w=a(f),h=a(w),b=a(h),S=r(a(b),2);ht(S,21,()=>u,Et,(j,I)=>{var U=Xe(),C=a(U),D=a(C,!0);e(C);var y=r(C);e(U),k((p,N)=>{_t(U,"href",s(I).href),kt(U,1,`inline-flex items-center border-b-2 px-1 pt-1 text-sm font-medium ${p??""}`),_t(U,"aria-current",N),_(D,s(I).icon),_(y,` ${s(I).label??""}`)},[()=>d(s(I).href)?"border-blue-500 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700",()=>d(s(I).href)?"page":void 0]),v(j,U)}),e(S),e(b);var P=r(b,2),M=a(P);M.__click=l;var G=r(a(M),2);{var q=j=>{var I=Ze();v(j,I)},T=j=>{var I=$e();v(j,I)};R(G,j=>{s(x)?j(q):j(T,!1)})}e(M),e(P),e(h),e(w);var A=r(w,2);{var W=j=>{var I=ea(),U=a(I);ht(U,21,()=>u,Et,(C,D)=>{var y=ta();y.__click=c;var p=a(y),N=a(p,!0);e(p);var E=r(p);e(y),k((O,L)=>{_t(y,"href",s(D).href),kt(y,1,`block border-l-4 py-2 pl-3 pr-4 text-base font-medium ${O??""}`),_t(y,"aria-current",L),_(N,s(D).icon),_(E,` ${s(D).label??""}`)},[()=>d(s(D).href)?"border-blue-500 bg-blue-50 text-blue-700":"border-transparent text-gray-500 hover:border-gray-300 hover:bg-gray-50 hover:text-gray-700",()=>d(s(D).href)?"page":void 0]),v(C,y)}),e(U),e(I),v(j,I)};R(A,j=>{s(x)&&j(W)})}e(f),k(()=>_t(M,"aria-expanded",s(x))),v(n,f),nt(),m()}Wt(["click"]);var oa=g('<div class="min-h-screen bg-gray-50"><!> <main><!></main></div>');function sa(n,t){var o=oa(),i=a(o);ra(i,{});var m=r(i,2),u=a(m);be(u,()=>t.children),e(m),e(o),v(n,o)}const na=Object.freeze(Object.defineProperty({__proto__:null,component:sa,universal:Qe},Symbol.toStringTag,{value:"Module"})),ia=Object.freeze(Object.defineProperty({__proto__:null,component:We},Symbol.toStringTag,{value:"Module"})),da="/api/v1",la=3e4;class Pe extends Error{constructor(t,o,i){super(t),this.statusCode=o,this.endpoint=i,this.name="ApiError"}}class Re extends Error{constructor(t,o){super(t),this.endpoint=o,this.name="NetworkError"}}function va(n,t){throw n instanceof Response?new Pe(`HTTP ${n.status}: ${n.statusText}`,n.status,t):n instanceof TypeError&&n.message.includes("fetch")?new Re("Network error: Unable to connect to API",t):n instanceof Error?n:new Error("Unknown error occurred")}function ca(n){return n instanceof Pe?`API Error (${n.statusCode}): ${n.message}`:n instanceof Re?`Network Error: ${n.message}`:n instanceof Error?n.message:"An unknown error occurred"}class ua{constructor(t=da,o=la){$t(this,"baseUrl");$t(this,"timeout");this.baseUrl=t,this.timeout=o}async fetchWithTimeout(t,o){const i=new AbortController,m=setTimeout(()=>i.abort(),this.timeout);try{const u=await fetch(t,{...o,signal:i.signal});if(clearTimeout(m),!u.ok){const x=await u.json().catch(()=>({}));throw new Error(x.error||u.statusText)}return u}catch(u){clearTimeout(m),va(u,t)}}async get(t,o){let i=`${this.baseUrl}${t}`;if(o){const u=new URLSearchParams;Object.entries(o).forEach(([x,l])=>{u.append(x,String(l))}),i+=`?${u.toString()}`}return(await this.fetchWithTimeout(i)).json()}async post(t,o){const i=o instanceof FormData;return(await this.fetchWithTimeout(`${this.baseUrl}${t}`,{method:"POST",headers:i?{}:{"Content-Type":"application/json"},body:i?o:JSON.stringify(o)})).json()}async getBatches(){return this.get("/batch/")}async getBatchStatus(t){return this.get("/batch/status",{batch_id:t})}async getDocuments(t,o){const i={};return t&&(i.batch_id=t),o&&(i.source=o),this.get("/document/",i)}async getWorkflowRuns(t,o,i){const m={};return t&&(m.batch_id=t),o&&(m.page=o.page,m.rows_per_page=o.rows_per_page),i&&(m.include_doc_info=!0),this.get("/workflow/",m)}async getWorkflowRunsByStatus(t,o,i,m){const u={status:t};return o&&(u.batch_id=o),i&&(u.page=i.page,u.rows_per_page=i.rows_per_page),m&&(u.include_doc_info=!0),this.get("/workflow/by-status",u)}async getWorkflowRunDetails(t){return this.get(`/workflow/runs/${t}`)}async getWorkflowSteps(t){return this.get("/workflow/steps",{status:t})}async getWorkflowDefinitions(){return this.get("/workflow/definitions")}async getWorkflowDefinition(t){return this.get(`/workflow/definitions/${t}`)}async getParamSets(){return this.get("/workflow/param-sets")}async getParamSet(t){return this.get(`/workflow/param-sets/${t}`)}async getParamSetsByTarget(t){return this.get(`/workflow/param-sets/target/${t}`)}async getRunGroups(t){const o=t?{batch_id:t}:void 0;return this.get("/workflow/run-groups",o)}async getRunGroup(t){return this.get(`/workflow/run-groups/${t}`)}async getRunGroupStats(t){return this.get(`/workflow/run-groups/${t}/stats`)}async startWorkflows(t,o,i,m){const u=new URLSearchParams;return u.append("batch_id",String(t)),o&&u.append("workflow_definition_id",o),i!==void 0&&u.append("priority",String(i)),m&&u.append("param_id",m),(await this.fetchWithTimeout(`${this.baseUrl}/batch/start-workflows`,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:u.toString()})).json()}}const mt=new ua;var z=(n=>(n.PENDING="PENDING",n.RUNNING="RUNNING",n.COMPLETED="COMPLETED",n.ERROR="ERROR",n.FAILED="FAILED",n))(z||{});const fa=async()=>{try{const[n,t]=await Promise.all([mt.getBatches(),mt.getWorkflowRuns(void 0,void 0,!0)]),o=Array.isArray(t)?t:t.items,i=b=>"workflow_run"in b?b.workflow_run:b,m=new Date,u=new Date(m.getTime()-10080*60*1e3),x=n.filter(b=>new Date(b.start_date)>=u),l={pending:o.filter(b=>i(b).status===z.PENDING).length,running:o.filter(b=>i(b).status===z.RUNNING).length,completed:o.filter(b=>i(b).status===z.COMPLETED).length,error:o.filter(b=>i(b).status===z.ERROR).length,failed:o.filter(b=>i(b).status===z.FAILED).length},c=new Date(m.getFullYear(),m.getMonth(),m.getDate()),d=o.filter(b=>{const S=i(b);return S.status===z.COMPLETED&&new Date(S.completed_date||"")>=c}).length,f=l.completed,w=o.length,h=w>0?Math.round(f/w*100):0;return{metrics:{totalBatches:n.length,recentBatches:x.length,activeWorkflows:l.running+l.pending,pendingWorkflows:l.pending,runningWorkflows:l.running,failedWorkflows:l.failed+l.error,completedToday:d,successRate:h},recentActivity:o.slice(0,10)}}catch(n){return console.error("Failed to load dashboard data:",n),{metrics:{totalBatches:0,recentBatches:0,activeWorkflows:0,pendingWorkflows:0,runningWorkflows:0,failedWorkflows:0,completedToday:0,successRate:0},recentActivity:[],error:n}}},ma=Object.freeze(Object.defineProperty({__proto__:null,load:fa},Symbol.toStringTag,{value:"Module"}));var ga=g('<p class="mt-1 text-sm text-gray-500"> </p>'),_a=g('<div class="ml-4 mt-2 flex-shrink-0"><!></div>'),xa=g('<div class="border-b border-gray-200 bg-white px-4 py-5 sm:px-6 lg:px-8"><div class="-ml-4 -mt-2 flex flex-wrap items-center justify-between sm:flex-nowrap"><div class="ml-4 mt-2"><h1 class="text-2xl font-bold leading-7 text-gray-900 sm:truncate sm:text-3xl"> </h1> <!></div> <!></div></div>');function Dt(n,t){var o=xa(),i=a(o),m=a(i),u=a(m),x=a(u,!0);e(u);var l=r(u,2);{var c=w=>{var h=ga(),b=a(h,!0);e(h),k(()=>_(b,t.description)),v(w,h)};R(l,w=>{t.description&&w(c)})}e(m);var d=r(m,2);{var f=w=>{var h=_a(),b=a(h);be(b,()=>t.actions),e(h),v(w,h)};R(d,w=>{t.actions&&w(f)})}e(i),e(o),k(()=>_(x,t.title)),v(n,o)}var ha=g('<div class="flex-shrink-0"><span class="text-3xl" aria-hidden="true"> </span></div>'),wa=g("<div> </div>"),ba=g('<dd class="mt-1 text-xs text-gray-600"> </dd>'),ya=g('<div class="flex items-center"><!> <div><dl><dt class="truncate text-sm font-medium text-gray-500"> </dt> <dd class="flex items-baseline"><div class="text-2xl font-semibold text-gray-900"> </div> <!></dd> <!></dl></div></div>'),pa=g('<a class="block overflow-hidden rounded-lg bg-white px-4 py-5 shadow hover:shadow-md focus:outline-none focus:ring-2 focus:ring-blue-500 sm:p-6"><!></a>'),ka=g('<div class="overflow-hidden rounded-lg bg-white px-4 py-5 shadow sm:p-6"><!></div>');function jt(n,t){st(t,!0);const o=l=>{var c=ya(),d=a(c);{var f=j=>{var I=ha(),U=a(I),C=a(U,!0);e(U),e(I),k(()=>_(C,t.icon)),v(j,I)};R(d,j=>{t.icon&&j(f)})}var w=r(d,2),h=a(w),b=a(h),S=a(b,!0);e(b);var P=r(b,2),M=a(P),G=a(M,!0);e(M);var q=r(M,2);{var T=j=>{var I=wa(),U=a(I);e(I),k(C=>{kt(I,1,`ml-2 flex items-baseline text-sm font-semibold ${t.trend.isPositive?"text-green-600":"text-red-600"}`),_(U,`${t.trend.isPositive?"‚Üë":"‚Üì"}
							${C??""}%`)},[()=>Math.abs(t.trend.value)]),v(j,I)};R(q,j=>{t.trend&&j(T)})}e(P);var A=r(P,2);{var W=j=>{var I=ba(),U=a(I,!0);e(I),k(()=>_(U,t.description)),v(j,I)};R(A,j=>{t.description&&j(W)})}e(h),e(w),e(c),k(()=>{kt(w,1,re(t.icon?"ml-5 w-0 flex-1":"w-full")),_(S,t.title),_(G,t.value)}),v(l,c)};var i=Ot(),m=bt(i);{var u=l=>{var c=pa(),d=a(c);o(d),e(c),k(()=>_t(c,"href",t.href)),v(l,c)},x=l=>{var c=ka(),d=a(c);o(d),e(c),v(l,c)};R(m,l=>{t.href?l(u):l(x,!1)})}v(n,i),nt()}var Sa=g("<span> </span>"),Pa=g('<span role="status"><span aria-hidden="true"> </span> <!></span>');function Tt(n,t){st(t,!0);let o=It(t,"compact",3,!1);const i={[z.PENDING]:{color:"bg-gray-100 text-gray-800 border-gray-300",icon:"‚è∏",label:"Pending"},[z.RUNNING]:{color:"bg-blue-100 text-blue-800 border-blue-300",icon:"‚ü≥",label:"Running"},[z.COMPLETED]:{color:"bg-green-100 text-green-800 border-green-300",icon:"‚úì",label:"Completed"},[z.ERROR]:{color:"bg-orange-100 text-orange-800 border-orange-300",icon:"‚ö†",label:"Error"},[z.FAILED]:{color:"bg-red-100 text-red-800 border-red-300",icon:"‚úó",label:"Failed"}},m=at(()=>i[t.status]);var u=Pa(),x=a(u),l=a(x,!0);e(x);var c=r(x,2);{var d=f=>{var w=Sa(),h=a(w,!0);e(w),k(()=>_(h,s(m).label)),v(f,w)};R(c,f=>{o()||f(d)})}e(u),k(()=>{kt(u,1,`inline-flex items-center gap-1 rounded-full border px-2 py-1 text-xs font-medium ${s(m).color??""}`),_t(u,"aria-label",s(m).label),kt(x,1,re(t.status===z.RUNNING?"animate-spin":"")),_(l,s(m).icon)}),v(n,u),nt()}function Mt(n){if(n==null)return"‚Äî";if(n<60)return`${Math.round(n)}s`;const t=Math.floor(n/60),o=Math.round(n%60);if(t<60)return o>0?`${t}m ${o}s`:`${t}m`;const i=Math.floor(t/60),m=t%60;return m>0?`${i}h ${m}m`:`${i}h`}function Ra(n){const t=new Date(n),i=new Date().getTime()-t.getTime(),m=Math.floor(i/1e3);if(m<60)return"just now";const u=Math.floor(m/60);if(u<60)return`${u} minute${u===1?"":"s"} ago`;const x=Math.floor(u/60);if(x<24)return`${x} hour${x===1?"":"s"} ago`;const l=Math.floor(x/24);return l<30?`${l} day${l===1?"":"s"} ago`:t.toLocaleDateString()}function Ct(n){return n?new Date(n).toLocaleString():"‚Äî"}function zt(n,t){return n.length<=t?n:n.substring(0,t)+"..."}function Ea(n){if(n==null)return"‚Äî";if(n===0)return"0 B";const t=["B","KB","MB","GB","TB"],o=1024,i=Math.floor(Math.log(n)/Math.log(o));return`${(n/Math.pow(o,i)).toFixed(i>0?1:0)} ${t[i]}`}var Da=g('<h4 class="mt-2 text-sm font-semibold text-gray-700"> </h4>'),Oa=g('<p class="mt-2 text-sm text-gray-600"> </p>'),Ca=g('<span>Source: <span class="font-medium"> </span></span>'),Ta=g('<span>Size: <span class="font-medium"> </span></span>'),ja=g('<span>Type: <span class="font-medium"> </span></span>'),Ia=g('<div class="mt-1 flex flex-wrap gap-3 text-xs text-gray-500"><!> <!> <!> <span class="font-mono text-xs"> </span></div>'),Ma=g('<p class="mt-1 text-xs text-gray-500"> </p>'),Na=g('<span>Progress: <span class="font-medium"> </span></span>'),Wa=g('<div class="mt-1 font-medium"> </div>'),Aa=g('<div class="mt-2 rounded bg-gray-50 p-2 text-xs text-gray-700"> </div>'),La=g('<a class="block rounded-lg border border-gray-200 bg-white p-4 transition hover:border-blue-300 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-blue-500"><div class="flex items-start justify-between"><div class="flex-1"><div class="flex items-center gap-2"><h3 class="text-sm font-bold text-gray-900"> </h3> <!></div> <!> <!> <div class="mt-2 flex flex-wrap gap-4 text-xs text-gray-500"><span>Definition: <span class="font-medium"> </span></span> <span>Parameter Set: <span class="font-medium"> </span></span> <span>Batch: <span class="font-medium"> </span></span> <!></div></div> <div class="ml-4 text-right text-xs text-gray-500"><div> </div> <!></div></div> <!></a>');function Ba(n,t){st(t,!0);const o=F=>"workflow_run"in F,i=at(()=>o(t.workflow)?t.workflow.workflow_run:t.workflow),m=at(()=>o(t.workflow)?t.workflow.document_info:null),u=at(()=>(o(t.workflow),t.workflow.steps)),x=at(()=>()=>!s(u)||s(u).length===0?null:`${s(u).filter(B=>B.status==="COMPLETED").length}/${s(u).length}`);var l=La(),c=a(l),d=a(c),f=a(d),w=a(f),h=a(w);e(w);var b=r(w,2);Tt(b,{get status(){return s(i).status}}),e(f);var S=r(f,2);{var P=F=>{var B=Da(),Y=a(B);e(B),k(Q=>{_t(B,"title",s(m).uri),_(Y,`URI: ${Q??""}`)},[()=>zt(s(m).uri,50)]),v(F,B)},M=F=>{var B=Oa(),Y=a(B);e(B),k(Q=>_(Y,`Document: ${Q??""}`),[()=>zt(s(i).doc_id,40)]),v(F,B)};R(S,F=>{var B;(B=s(m))!=null&&B.uri?F(P):F(M,!1)})}var G=r(S,2);{var q=F=>{var B=Ia(),Y=a(B);{var Q=it=>{var ut=Ca(),et=r(a(ut)),rt=a(et,!0);e(et),e(ut),k(()=>_(rt,s(m).source)),v(it,ut)};R(Y,it=>{s(m).source&&it(Q)})}var $=r(Y,2);{var lt=it=>{var ut=Ta(),et=r(a(ut)),rt=a(et,!0);e(et),e(ut),k(ot=>_(rt,ot),[()=>Ea(s(m).file_size)]),v(it,ut)};R($,it=>{s(m).file_size!==null&&it(lt)})}var xt=r($,2);{var Pt=it=>{var ut=ja(),et=r(a(ut)),rt=a(et,!0);e(et),e(ut),k(()=>_(rt,s(m).mime_type)),v(it,ut)};R(xt,it=>{s(m).mime_type&&it(Pt)})}var wt=r(xt,2),Rt=a(wt);e(wt),e(B),k(it=>{_t(wt,"title",s(i).doc_id),_(Rt,`Hash: ${it??""}`)},[()=>zt(s(i).doc_id,20)]),v(F,B)},T=F=>{var B=Ma(),Y=a(B);e(B),k(()=>_(Y,`Source: ${s(i).run_params.source??""}`)),v(F,B)};R(G,F=>{s(m)?F(q):F(T,!1)})}var A=r(G,2),W=a(A),j=r(a(W)),I=a(j,!0);e(j),e(W);var U=r(W,2),C=r(a(U)),D=a(C,!0);e(C),e(U);var y=r(U,2),p=r(a(y)),N=a(p);e(p),e(y);var E=r(y,2);{var O=F=>{var B=Na(),Y=r(a(B)),Q=a(Y,!0);e(Y),e(B),k($=>_(Q,$),[()=>s(x)()]),v(F,B)};R(E,F=>{s(x)()&&F(O)})}e(A),e(d);var L=r(d,2),H=a(L),K=a(H,!0);e(H);var V=r(H,2);{var X=F=>{var B=Wa(),Y=a(B,!0);e(B),k(Q=>_(Y,Q),[()=>Mt(s(i).duration)]),v(F,B)};R(V,F=>{s(i).duration!==null&&F(X)})}e(L),e(c);var Z=r(c,2);{var ft=F=>{var B=Aa(),Y=a(B,!0);e(B),k(()=>_(Y,s(i).status_message)),v(F,B)};R(Z,F=>{s(i).status_message&&F(ft)})}e(l),k(F=>{_t(l,"href",`/workflows/${s(i).id??""}`),_(h,`Workflow #${s(i).id??""}`),_(I,s(i).workflow_definition_id),_(D,s(i).run_params.param_id),_(N,`#${s(i).batch_id??""}`),_(K,F)},[()=>Ra(s(i).created_date)]),v(n,l),nt()}var Ga=g('<p class="mb-4 max-w-md text-sm text-gray-600"> </p>'),za=g('<a class="inline-flex items-center rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2"> </a>'),Fa=g('<div class="flex flex-col items-center justify-center py-12 text-center"><div class="mb-4 rounded-full bg-gray-100 p-4"><svg class="h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"></path></svg></div> <h3 class="mb-2 text-lg font-semibold text-gray-900"> </h3> <!> <!></div>');function Ut(n,t){var o=Fa(),i=r(a(o),2),m=a(i,!0);e(i);var u=r(i,2);{var x=d=>{var f=Ga(),w=a(f,!0);e(f),k(()=>_(w,t.description)),v(d,f)};R(u,d=>{t.description&&d(x)})}var l=r(u,2);{var c=d=>{var f=za(),w=a(f,!0);e(f),k(()=>{_t(f,"href",t.actionHref),_(w,t.actionText)}),v(d,f)};R(l,d=>{t.actionText&&t.actionHref&&d(c)})}e(o),k(()=>_(m,t.title)),v(n,o)}var Ua=g('<div class="space-y-3"></div>');function oe(n,t){st(t,!0),It(t,"compact",3,!1);function o(l){return"workflow_run"in l?l.workflow_run.id:l.id}var i=Ot(),m=bt(i);{var u=l=>{Ut(l,{title:"No workflows found",description:"There are no workflow runs to display."})},x=l=>{var c=Ua();ht(c,21,()=>t.workflows,d=>o(d),(d,f)=>{Ba(d,{get workflow(){return s(f)}})}),e(c),v(l,c)};R(m,l=>{t.workflows.length===0?l(u):l(x,!1)})}v(n,i),nt()}var Va=g('<span class="text-sm text-gray-600"> </span>'),Ha=g('<div class="flex items-center justify-center gap-2"><div role="status" aria-label="Loading"></div> <!></div>');function Ja(n,t){let o=It(t,"size",3,"md");const i={sm:"h-4 w-4 border-2",md:"h-8 w-8 border-3",lg:"h-12 w-12 border-4"};var m=Ha(),u=a(m),x=r(u,2);{var l=c=>{var d=Va(),f=a(d,!0);e(d),k(()=>_(f,t.text)),v(c,d)};R(x,c=>{t.text&&c(l)})}e(m),k(()=>kt(u,1,`animate-spin rounded-full border-blue-600 border-t-transparent ${i[o()]??""}`)),v(n,m)}var qa=g('<button class="rounded-md bg-red-100 px-3 py-1.5 text-sm font-medium text-red-800 hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2">Retry</button>'),Ya=g('<div class="rounded-lg border border-red-200 bg-red-50 p-4" role="alert" aria-live="assertive"><div class="flex items-start gap-3"><svg class="h-5 w-5 flex-shrink-0 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <div class="flex-1"><h3 class="text-sm font-semibold text-red-800">Error</h3> <p class="mt-1 text-sm text-red-700"> </p></div> <!></div></div>');function Lt(n,t){st(t,!0);const o=at(()=>ca(t.error));var i=Ya(),m=a(i),u=r(a(m),2),x=r(a(u),2),l=a(x,!0);e(x),e(u);var c=r(u,2);{var d=f=>{var w=qa();w.__click=function(...h){var b;(b=t.retry)==null||b.apply(this,h)},v(f,w)};R(c,f=>{t.retry&&f(d)})}e(m),e(i),k(()=>_(l,s(o))),v(n,i),nt()}Wt(["click"]);var Ka=g('<div class="mt-6"><!></div>'),Qa=g('<div class="rounded-lg bg-white p-8 text-center text-gray-500 shadow"><p>No workflow activity yet</p></div>'),Xa=g('<div class="mt-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"><!> <!> <!> <!></div> <div class="mt-8"><div class="mb-4 flex items-center justify-between"><h2 class="text-lg font-semibold text-gray-900">Recent Activity</h2> <a href="/workflows" class="text-sm font-medium text-blue-600 hover:text-blue-700">View all workflows ‚Üí</a></div> <!></div>',1),Za=g('<div class="mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8"><!> <!></div>');function $a(n,t){st(t,!0);var o=Za(),i=a(o);Dt(i,{title:"Dashboard",description:"Monitor your document processing workflows and batches"});var m=r(i,2);{var u=l=>{var c=Ka(),d=a(c);Lt(d,{get error(){return t.data.error}}),e(c),v(l,c)},x=l=>{var c=Xa(),d=bt(c),f=a(d);jt(f,{title:"Total Batches",get value(){return t.data.metrics.totalBatches},get description(){return`${t.data.metrics.recentBatches??""} added this week`},icon:"üì¶",href:"/batches"});var w=r(f,2);jt(w,{title:"Active Workflows",get value(){return t.data.metrics.activeWorkflows},get description(){return`${t.data.metrics.runningWorkflows??""} running, ${t.data.metrics.pendingWorkflows??""} pending`},icon:"‚öôÔ∏è",href:"/workflows?status=RUNNING"});var h=r(w,2);jt(h,{title:"Failed Workflows",get value(){return t.data.metrics.failedWorkflows},description:"Requires attention",icon:"‚ö†Ô∏è",href:"/workflows?status=FAILED"});var b=r(h,2);jt(b,{title:"Success Rate",get value(){return`${t.data.metrics.successRate??""}%`},get description(){return`${t.data.metrics.completedToday??""} completed today`},icon:"‚úì"}),e(d);var S=r(d,2),P=r(a(S),2);{var M=q=>{var T=Qa();v(q,T)},G=q=>{oe(q,{get workflows(){return t.data.recentActivity}})};R(P,q=>{t.data.recentActivity.length===0?q(M):q(G,!1)})}e(S),v(l,c)};R(m,l=>{t.data.error?l(u):l(x,!1)})}e(o),v(n,o),nt()}const tr=Object.freeze(Object.defineProperty({__proto__:null,component:$a,universal:ma},Symbol.toStringTag,{value:"Module"})),er=async()=>{try{return{batches:await mt.getBatches()}}catch(n){return console.error("Failed to load batches:",n),{batches:[],error:n}}},ar=Object.freeze(Object.defineProperty({__proto__:null,load:er},Symbol.toStringTag,{value:"Module"}));var rr=g('<span class="inline-flex items-center rounded-full bg-green-100 px-2 py-1 text-xs font-medium text-green-800">‚úì Complete</span>'),or=g('<span class="inline-flex items-center rounded-full bg-blue-100 px-2 py-1 text-xs font-medium text-blue-800">‚ü≥ In Progress</span>'),sr=g('<div class="flex items-center gap-1 text-gray-600"><span class="font-medium"> </span> <span>documents</span></div>'),nr=g('<span class="text-green-600"> </span>'),ir=g('<span class="text-blue-600"> </span>'),dr=g('<span class="text-gray-500"> </span>'),lr=g('<span class="text-red-600"> </span>'),vr=g('<div class="flex items-center gap-2 text-gray-600"><!> <!> <!> <!></div>'),cr=g('<div class="mt-1 font-medium"> </div>'),ur=g('<a class="block rounded-lg border border-gray-200 bg-white p-5 transition hover:border-blue-300 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-blue-500"><div class="flex items-start justify-between"><div class="flex-1"><div class="flex items-center gap-2"><h3 class="text-lg font-semibold text-gray-900"> </h3> <!></div> <p class="mt-1 text-sm text-gray-600">Source: <span class="font-medium"> </span></p> <div class="mt-3 flex flex-wrap gap-4 text-sm"><!> <!></div></div> <div class="ml-4 text-right text-xs text-gray-500"><div> </div> <!></div></div></a>');function fr(n,t){st(t,!0);const o=at(()=>t.batch.completed_date!==null);var i=ur(),m=a(i),u=a(m),x=a(u),l=a(x),c=a(l,!0);e(l);var d=r(l,2);{var f=C=>{var D=rr();v(C,D)},w=C=>{var D=or();v(C,D)};R(d,C=>{s(o)?C(f):C(w,!1)})}e(x);var h=r(x,2),b=r(a(h)),S=a(b,!0);e(b),e(h);var P=r(h,2),M=a(P);{var G=C=>{var D=sr(),y=a(D),p=a(y,!0);e(y),Gt(2),e(D),k(()=>_(p,t.documentCount)),v(C,D)};R(M,C=>{t.documentCount!==void 0&&C(G)})}var q=r(M,2);{var T=C=>{var D=vr(),y=a(D);{var p=V=>{var X=nr(),Z=a(X);e(X),k(()=>_(Z,`‚úì ${t.workflowCounts.completed??""}`)),v(V,X)};R(y,V=>{t.workflowCounts.completed&&V(p)})}var N=r(y,2);{var E=V=>{var X=ir(),Z=a(X);e(X),k(()=>_(Z,`‚ü≥ ${t.workflowCounts.running??""}`)),v(V,X)};R(N,V=>{t.workflowCounts.running&&V(E)})}var O=r(N,2);{var L=V=>{var X=dr(),Z=a(X);e(X),k(()=>_(Z,`‚è∏ ${t.workflowCounts.pending??""}`)),v(V,X)};R(O,V=>{t.workflowCounts.pending&&V(L)})}var H=r(O,2);{var K=V=>{var X=lr(),Z=a(X);e(X),k(()=>_(Z,`‚úó ${t.workflowCounts.failed??""}`)),v(V,X)};R(H,V=>{t.workflowCounts.failed&&V(K)})}e(D),v(C,D)};R(q,C=>{t.workflowCounts&&C(T)})}e(P),e(u);var A=r(u,2),W=a(A),j=a(W);e(W);var I=r(W,2);{var U=C=>{var D=cr(),y=a(D,!0);e(D),k(p=>_(y,p),[()=>Mt(t.batch.duration)]),v(C,D)};R(I,C=>{t.batch.duration!==null&&C(U)})}e(A),e(m),e(i),k(C=>{_t(i,"href",`/batches/${t.batch.id??""}`),_(c,t.batch.name),_(S,t.batch.source),_(j,`Started: ${C??""}`)},[()=>Ct(t.batch.start_date)]),v(n,i),nt()}var mr=g('<div class="space-y-4"></div>');function gr(n,t){st(t,!0);var o=Ot(),i=bt(o);{var m=x=>{Ut(x,{title:"No batches found",description:"There are no batches to display."})},u=x=>{var l=mr();ht(l,21,()=>t.batches,c=>c.id,(c,d)=>{fr(c,{get batch(){return s(d)}})}),e(l),v(x,l)};R(i,x=>{t.batches.length===0?x(m):x(u,!1)})}v(n,o),nt()}var _r=g('<div class="mt-6"><!></div>'),xr=g('<div class="mt-6"><!></div>'),hr=g('<div class="mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8"><!> <!></div>');function wr(n,t){st(t,!0);var o=hr(),i=a(o);Dt(i,{title:"Batches",description:"View and manage document batches"});var m=r(i,2);{var u=l=>{var c=_r(),d=a(c);Lt(d,{get error(){return t.data.error}}),e(c),v(l,c)},x=l=>{var c=xr(),d=a(c);gr(d,{get batches(){return t.data.batches}}),e(c),v(l,c)};R(m,l=>{t.data.error?l(u):l(x,!1)})}e(o),v(n,o),nt()}const br=Object.freeze(Object.defineProperty({__proto__:null,component:wr,universal:ar},Symbol.toStringTag,{value:"Module"})),yr=async({params:n})=>{try{const t=parseInt(n.id);if(isNaN(t))throw At(400,"Invalid batch ID");const[o,i,m,u]=await Promise.all([mt.getBatchStatus(t),mt.getWorkflowRuns(t),mt.getWorkflowDefinitions(),mt.getParamSets()]);return{batchId:t,batch:o.batch,documentCount:o.document_count,workflowCounts:o.workflow_count,workflows:i,parsed:o.parsed,remaining:o.remaining,workflowDefinitions:m,paramSets:u}}catch(t){throw console.error("Failed to load batch:",t),At(404,"Batch not found")}},pr=Object.freeze(Object.defineProperty({__proto__:null,load:yr},Symbol.toStringTag,{value:"Module"}));var kr=g("<option> </option>"),Sr=g("<option> </option>"),Pr=g('<div class="rounded-md bg-red-50 p-3" role="alert"><p class="text-sm text-red-800"> </p></div>'),Rr=g('<div class="rounded-md bg-green-50 p-3" role="alert"><p class="text-sm text-green-800"> </p></div>'),Er=g("<!> <span>Starting...</span>",1),Dr=g("<span>Start Workflows</span>"),Or=g('<div class="rounded-lg border border-gray-200 bg-white p-6 shadow"><h3 class="text-lg font-semibold text-gray-900">Start Workflows</h3> <p class="mt-1 text-sm text-gray-600">Start workflow processing for all documents in this batch</p> <form class="mt-4 space-y-4"><div><label for="workflow" class="block text-sm font-medium text-gray-700">Workflow Definition</label> <select id="workflow" class="mt-1 block w-full rounded-md border-gray-300 py-2 pl-3 pr-10 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 disabled:bg-gray-100 disabled:text-gray-500"><option>Default (from config)</option><!></select></div> <div><label for="param-set" class="block text-sm font-medium text-gray-700">Parameter Set</label> <select id="param-set" class="mt-1 block w-full rounded-md border-gray-300 py-2 pl-3 pr-10 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 disabled:bg-gray-100 disabled:text-gray-500"><option>Default</option><!></select></div> <div><label for="priority" class="block text-sm font-medium text-gray-700">Priority</label> <input type="number" id="priority" min="0" max="100" class="mt-1 block w-full rounded-md border-gray-300 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 disabled:bg-gray-100 disabled:text-gray-500"/> <p class="mt-1 text-xs text-gray-500">Higher values = higher priority (default: 0)</p></div> <!> <!> <div class="flex justify-end"><button type="submit" class="inline-flex items-center gap-2 rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:bg-gray-400 disabled:cursor-not-allowed"><!></button></div></form></div>');function Cr(n,t){st(t,!0);let o=pt(""),i=pt("default"),m=pt(0),u=pt(!1),x=pt(null),l=pt(null);async function c(E){E.preventDefault(),ct(u,!0),ct(x,null),ct(l,null);try{const O=await mt.startWorkflows(t.batchId,s(o)||void 0,s(m),s(i)||void 0);ct(l,`${O.message}: ${O.workflows} workflows started (Run Group: ${O.run_group})`),ct(o,""),ct(i,"default"),ct(m,0),t.onSuccess&&setTimeout(t.onSuccess,1500)}catch(O){ct(x,O instanceof Error?O.message:"Failed to start workflows",!0)}finally{ct(u,!1)}}var d=Or(),f=r(a(d),4),w=a(f),h=r(a(w),2),b=a(h);b.value=b.__value="";var S=r(b);ht(S,17,()=>t.workflowDefinitions,Et,(E,O)=>{var L=kr(),H=a(L);e(L);var K={};k(()=>{_(H,`${s(O).name??""} (${s(O).id??""})`),K!==(K=s(O).id)&&(L.value=(L.__value=s(O).id)??"")}),v(E,L)}),e(h),e(w);var P=r(w,2),M=r(a(P),2),G=a(M);G.value=G.__value="";var q=r(G);ht(q,17,()=>t.paramSets,Et,(E,O)=>{var L=Sr(),H=a(L);e(L);var K={};k(()=>{_(H,`${s(O).name??""} (${s(O).id??""})`),K!==(K=s(O).id)&&(L.value=(L.__value=s(O).id)??"")}),v(E,L)}),e(M),e(P);var T=r(P,2),A=r(a(T),2);Be(A),Gt(2),e(T);var W=r(T,2);{var j=E=>{var O=Pr(),L=a(O),H=a(L,!0);e(L),e(O),k(()=>_(H,s(x))),v(E,O)};R(W,E=>{s(x)&&E(j)})}var I=r(W,2);{var U=E=>{var O=Rr(),L=a(O),H=a(L,!0);e(L),e(O),k(()=>_(H,s(l))),v(E,O)};R(I,E=>{s(l)&&E(U)})}var C=r(I,2),D=a(C),y=a(D);{var p=E=>{var O=Er(),L=bt(O);Ja(L,{size:"sm"}),Gt(2),v(E,O)},N=E=>{var O=Dr();v(E,O)};R(y,E=>{s(u)?E(p):E(N,!1)})}e(D),e(C),e(f),e(d),k(()=>{h.disabled=s(u),M.disabled=s(u),A.disabled=s(u),D.disabled=s(u)}),Ae("submit",f,c),ae(h,()=>s(o),E=>ct(o,E)),ae(M,()=>s(i),E=>ct(i,E)),Le(A,()=>s(m),E=>ct(m,E)),v(n,d),nt()}var Tr=g('<a href="/batches" class="text-sm font-medium text-gray-600 hover:text-gray-900">‚Üê Back to batches</a>'),jr=g('<span class="inline-flex items-center rounded-full bg-green-100 px-3 py-1 text-sm font-medium text-green-800">‚úì Complete</span>'),Ir=g('<span class="inline-flex items-center rounded-full bg-blue-100 px-3 py-1 text-sm font-medium text-blue-800">‚ü≥ In Progress</span>'),Mr=g('<div><dt class="text-sm font-medium text-gray-500">Completed</dt> <dd class="mt-1 text-sm text-gray-900"> </dd></div>'),Nr=g('<div><dt class="text-sm font-medium text-gray-500">Duration</dt> <dd class="mt-1 text-sm text-gray-900"> </dd></div>'),Wr=g('<div class="mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8"><!> <div class="mt-6"><div class="overflow-hidden rounded-lg bg-white shadow"><div class="px-6 py-5"><div class="grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4"><div><dt class="text-sm font-medium text-gray-500">Batch ID</dt> <dd class="mt-1 text-lg font-semibold text-gray-900"> </dd></div> <div><dt class="text-sm font-medium text-gray-500">Source</dt> <dd class="mt-1 text-lg font-semibold text-gray-900"> </dd></div> <div><dt class="text-sm font-medium text-gray-500">Documents</dt> <dd class="mt-1 text-lg font-semibold text-gray-900"> </dd></div> <div><dt class="text-sm font-medium text-gray-500">Status</dt> <dd class="mt-1"><!></dd></div></div> <div class="mt-6 border-t border-gray-200 pt-6"><div class="grid grid-cols-1 gap-6 sm:grid-cols-2"><div><dt class="text-sm font-medium text-gray-500">Started</dt> <dd class="mt-1 text-sm text-gray-900"> </dd></div> <!> <!></div></div></div> <div class="border-t border-gray-200 bg-gray-50 px-6 py-4"><h3 class="text-sm font-medium text-gray-700">Workflow Status</h3> <div class="mt-3 flex flex-wrap gap-4"><div class="flex items-center gap-2"><!> <span class="text-sm text-gray-600"> </span></div> <div class="flex items-center gap-2"><!> <span class="text-sm text-gray-600"> </span></div> <div class="flex items-center gap-2"><!> <span class="text-sm text-gray-600"> </span></div> <div class="flex items-center gap-2"><!> <span class="text-sm text-gray-600"> </span></div> <div class="flex items-center gap-2"><!> <span class="text-sm text-gray-600"> </span></div></div></div></div> <div class="mt-8"><!></div> <div class="mt-8"><div class="mb-4 flex items-center justify-between"><h2 class="text-lg font-semibold text-gray-900">Workflows</h2> <div class="flex items-center gap-2"><label for="status-select" class="text-sm text-gray-600">Filter:</label> <select id="status-select" class="rounded-md border-gray-300 text-sm focus:border-blue-500 focus:ring-blue-500"><option>All</option><option>Pending</option><option>Running</option><option>Completed</option><option>Error</option><option>Failed</option></select></div></div> <!></div></div></div>');function Ar(n,t){st(t,!0);let o=pt("all");const i=at(()=>s(o)==="all"?t.data.workflows:t.data.workflows.filter(vt=>vt.status===s(o))),m=at(()=>t.data.batch.completed_date!==null);function u(){Ge()}var x=Wr(),l=a(x);Dt(l,{get title(){return`Batch: ${t.data.batch.name??""}`},actions:yt=>{var Nt=Tr();v(yt,Nt)}});var c=r(l,2),d=a(c),f=a(d),w=a(f),h=a(w),b=r(a(h),2),S=a(b);e(b),e(h);var P=r(h,2),M=r(a(P),2),G=a(M,!0);e(M),e(P);var q=r(P,2),T=r(a(q),2),A=a(T,!0);e(T),e(q);var W=r(q,2),j=r(a(W),2),I=a(j);{var U=vt=>{var yt=jr();v(vt,yt)},C=vt=>{var yt=Ir();v(vt,yt)};R(I,vt=>{s(m)?vt(U):vt(C,!1)})}e(j),e(W),e(w);var D=r(w,2),y=a(D),p=a(y),N=r(a(p),2),E=a(N,!0);e(N),e(p);var O=r(p,2);{var L=vt=>{var yt=Mr(),Nt=r(a(yt),2),Xt=a(Nt,!0);e(Nt),e(yt),k(Zt=>_(Xt,Zt),[()=>Ct(t.data.batch.completed_date)]),v(vt,yt)};R(O,vt=>{t.data.batch.completed_date&&vt(L)})}var H=r(O,2);{var K=vt=>{var yt=Nr(),Nt=r(a(yt),2),Xt=a(Nt,!0);e(Nt),e(yt),k(Zt=>_(Xt,Zt),[()=>Mt(t.data.batch.duration)]),v(vt,yt)};R(H,vt=>{t.data.batch.duration!==null&&vt(K)})}e(y),e(D),e(f);var V=r(f,2),X=r(a(V),2),Z=a(X),ft=a(Z);Tt(ft,{get status(){return z.COMPLETED}});var F=r(ft,2),B=a(F,!0);e(F),e(Z);var Y=r(Z,2),Q=a(Y);Tt(Q,{get status(){return z.RUNNING}});var $=r(Q,2),lt=a($,!0);e($),e(Y);var xt=r(Y,2),Pt=a(xt);Tt(Pt,{get status(){return z.PENDING}});var wt=r(Pt,2),Rt=a(wt,!0);e(wt),e(xt);var it=r(xt,2),ut=a(it);Tt(ut,{get status(){return z.ERROR}});var et=r(ut,2),rt=a(et,!0);e(et),e(it);var ot=r(it,2),J=a(ot);Tt(J,{get status(){return z.FAILED}});var tt=r(J,2),dt=a(tt,!0);e(tt),e(ot),e(X),e(V),e(d);var gt=r(d,2),Bt=a(gt);Cr(Bt,{get batchId(){return t.data.batchId},get workflowDefinitions(){return t.data.workflowDefinitions},get paramSets(){return t.data.paramSets},onSuccess:u}),e(gt);var se=r(gt,2),Vt=a(se),ne=r(a(Vt),2),Ht=r(a(ne),2),Jt=a(Ht);Jt.value=Jt.__value="all";var qt=r(Jt),ie={},Yt=r(qt),de={},Kt=r(Yt),le={},Qt=r(Kt),ve={},ce=r(Qt),ue={};e(Ht),e(ne),e(Vt);var De=r(Vt,2);oe(De,{get workflows(){return s(i)}}),e(se),e(c),e(x),k(vt=>{_(S,`#${t.data.batch.id??""}`),_(G,t.data.batch.source),_(A,t.data.documentCount),_(E,vt),_(B,t.data.workflowCounts.COMPLETED||0),_(lt,t.data.workflowCounts.RUNNING||0),_(Rt,t.data.workflowCounts.PENDING||0),_(rt,t.data.workflowCounts.ERROR||0),_(dt,t.data.workflowCounts.FAILED||0),ie!==(ie=z.PENDING)&&(qt.value=(qt.__value=z.PENDING)??""),de!==(de=z.RUNNING)&&(Yt.value=(Yt.__value=z.RUNNING)??""),le!==(le=z.COMPLETED)&&(Kt.value=(Kt.__value=z.COMPLETED)??""),ve!==(ve=z.ERROR)&&(Qt.value=(Qt.__value=z.ERROR)??""),ue!==(ue=z.FAILED)&&(ce.value=(ce.__value=z.FAILED)??"")},[()=>Ct(t.data.batch.start_date)]),ae(Ht,()=>s(o),vt=>ct(o,vt)),v(n,x),nt()}const Lr=Object.freeze(Object.defineProperty({__proto__:null,component:Ar,universal:pr},Symbol.toStringTag,{value:"Module"})),Br=async()=>{try{return{paramSets:await mt.getParamSets()}}catch(n){return console.error("Failed to load parameter sets:",n),{paramSets:[],error:n}}},Gr=Object.freeze(Object.defineProperty({__proto__:null,load:Br},Symbol.toStringTag,{value:"Module"}));var zr=g('<a class="block rounded-lg border border-gray-200 bg-white p-5 transition hover:border-blue-300 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-blue-500"><div class="flex items-start justify-between"><div class="flex-1"><h3 class="text-lg font-semibold text-gray-900"> </h3> <p class="mt-1 text-sm text-gray-600">ID: <span class="font-mono text-xs"> </span></p></div> <div class="ml-4"><span class="rounded-full bg-blue-100 px-3 py-1 text-xs font-medium text-blue-800"> </span></div></div> <div class="mt-4 flex items-center text-sm text-blue-600"><span>View details</span> <svg class="ml-1 h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></div></a>');function Ee(n,t){st(t,!0);const o=at(()=>t.type==="workflow"?`/definitions/workflows/${t.definition.id}`:`/definitions/params/${t.definition.id}`);var i=zr(),m=a(i),u=a(m),x=a(u),l=a(x,!0);e(x);var c=r(x,2),d=r(a(c)),f=a(d,!0);e(d),e(c),e(u);var w=r(u,2),h=a(w),b=a(h,!0);e(h),e(w),e(m),Gt(2),e(i),k(()=>{_t(i,"href",s(o)),_(l,t.definition.name),_(f,t.definition.id),_(b,t.type==="workflow"?"Workflow":"Parameters")}),v(n,i),nt()}var Fr=g('<div class="mt-6"><!></div>'),Ur=g('<div class="mt-6"><!></div>'),Vr=g('<div class="mt-6 grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3"></div>'),Hr=g('<div class="mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8"><!> <!></div>');function Jr(n,t){st(t,!0);var o=Hr(),i=a(o);Dt(i,{title:"Parameter Sets",description:"Browse available parameter configurations"});var m=r(i,2);{var u=l=>{var c=Fr(),d=a(c);Lt(d,{get error(){return t.data.error}}),e(c),v(l,c)},x=l=>{var c=Ot(),d=bt(c);{var f=h=>{var b=Ur(),S=a(b);Ut(S,{title:"No parameter sets found",description:"There are no parameter sets configured."}),e(b),v(h,b)},w=h=>{var b=Vr();ht(b,21,()=>t.data.paramSets,S=>S.id,(S,P)=>{Ee(S,{get definition(){return s(P)},type:"param"})}),e(b),v(h,b)};R(d,h=>{t.data.paramSets.length===0?h(f):h(w,!1)},!0)}v(l,c)};R(m,l=>{t.data.error?l(u):l(x,!1)})}e(o),v(n,o),nt()}const qr=Object.freeze(Object.defineProperty({__proto__:null,component:Jr,universal:Gr},Symbol.toStringTag,{value:"Module"})),Yr=async({params:n})=>{try{return{paramSet:await mt.getParamSet(n.id)}}catch(t){throw console.error("Failed to load parameter set:",t),At(404,"Parameter set not found")}},Kr=Object.freeze(Object.defineProperty({__proto__:null,load:Yr},Symbol.toStringTag,{value:"Module"}));var Qr=g('<div class="flex items-center justify-between border-b border-gray-200 px-4 py-3"><h3 class="text-sm font-semibold text-gray-900"> </h3> <button type="button" class="rounded-md bg-gray-100 px-2 py-1 text-xs font-medium text-gray-700 hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500"> </button></div>'),Xr=g('<div class="rounded-lg border border-gray-200 bg-white"><!> <pre class="overflow-x-auto bg-gray-50 p-4 text-xs text-gray-900"><code> </code></pre></div>');function Ft(n,t){let o=pt(!1);async function i(){try{await navigator.clipboard.writeText(JSON.stringify(t.data,null,2)),ct(o,!0),setTimeout(()=>{ct(o,!1)},2e3)}catch(f){console.error("Failed to copy:",f)}}var m=Xr(),u=a(m);{var x=f=>{var w=Qr(),h=a(w),b=a(h,!0);e(h);var S=r(h,2);S.__click=i;var P=a(S,!0);e(S),e(w),k(()=>{_(b,t.title),_(P,s(o)?"Copied!":"Copy")}),v(f,w)};R(u,f=>{t.title&&f(x)})}var l=r(u,2),c=a(l),d=a(c,!0);e(c),e(l),e(m),k(f=>_(d,f),[()=>JSON.stringify(t.data,null,2)]),v(n,m)}Wt(["click"]);var Zr=g('<a href="/definitions/params" class="text-sm font-medium text-gray-600 hover:text-gray-900">‚Üê Back to parameters</a>'),$r=g('<div><dt class="text-sm font-medium text-gray-500">Batch Size</dt> <dd class="mt-1 text-sm text-gray-900"> </dd></div>'),to=g('<div class="mt-6 overflow-hidden rounded-lg bg-white shadow"><div class="border-b border-gray-200 bg-gray-50 px-6 py-4"><h3 class="text-base font-semibold text-gray-900">Embedding Configuration</h3></div> <div class="px-6 py-4"><dl class="grid grid-cols-1 gap-4 sm:grid-cols-2"><div><dt class="text-sm font-medium text-gray-500">Model</dt> <dd class="mt-1 text-sm text-gray-900"> </dd></div> <div><dt class="text-sm font-medium text-gray-500">Provider</dt> <dd class="mt-1 text-sm text-gray-900"> </dd></div> <div><dt class="text-sm font-medium text-gray-500">Dimensions</dt> <dd class="mt-1 text-sm text-gray-900"> </dd></div> <!></dl></div></div>'),eo=g('<div><dt class="text-sm font-medium text-gray-500">Min Size</dt> <dd class="mt-1 text-sm text-gray-900"> </dd></div>'),ao=g('<div class="mt-6 overflow-hidden rounded-lg bg-white shadow"><div class="border-b border-gray-200 bg-gray-50 px-6 py-4"><h3 class="text-base font-semibold text-gray-900">Chunking Configuration</h3></div> <div class="px-6 py-4"><dl class="grid grid-cols-1 gap-4 sm:grid-cols-2"><div><dt class="text-sm font-medium text-gray-500">Strategy</dt> <dd class="mt-1 text-sm text-gray-900"> </dd></div> <div><dt class="text-sm font-medium text-gray-500">Max Size</dt> <dd class="mt-1 text-sm text-gray-900"> </dd></div> <div><dt class="text-sm font-medium text-gray-500">Overlap</dt> <dd class="mt-1 text-sm text-gray-900"> </dd></div> <!></dl></div></div>'),ro=g('<div><dt class="text-sm font-medium text-gray-500">OCR Enabled</dt> <dd class="mt-1 text-sm text-gray-900"> </dd></div>'),oo=g('<div><dt class="text-sm font-medium text-gray-500">Language</dt> <dd class="mt-1 text-sm text-gray-900"> </dd></div>'),so=g('<div class="mt-6 overflow-hidden rounded-lg bg-white shadow"><div class="border-b border-gray-200 bg-gray-50 px-6 py-4"><h3 class="text-base font-semibold text-gray-900">Parsing Configuration</h3></div> <div class="px-6 py-4"><dl class="grid grid-cols-1 gap-4 sm:grid-cols-2"><div><dt class="text-sm font-medium text-gray-500">Extract Tables</dt> <dd class="mt-1 text-sm text-gray-900"> </dd></div> <div><dt class="text-sm font-medium text-gray-500">Extract Images</dt> <dd class="mt-1 text-sm text-gray-900"> </dd></div> <!> <!></dl></div></div>'),no=g('<div class="mt-6"><!></div>'),io=g('<div class="mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8"><!> <div class="mt-6"><div class="overflow-hidden rounded-lg bg-white shadow"><div class="px-6 py-5"><div class="grid grid-cols-1 gap-4 sm:grid-cols-2"><div><dt class="text-sm font-medium text-gray-500">Parameter Set ID</dt> <dd class="mt-1 font-mono text-sm text-gray-900"> </dd></div> <div><dt class="text-sm font-medium text-gray-500">Name</dt> <dd class="mt-1 text-sm text-gray-900"> </dd></div> <div class="sm:col-span-2"><dt class="text-sm font-medium text-gray-500">Target</dt> <dd class="mt-1 font-mono text-sm text-gray-900"> </dd></div></div></div></div> <!> <!> <!> <!> <div class="mt-6"><!></div></div></div>');function lo(n,t){st(t,!0);var o=io(),i=a(o);Dt(i,{get title(){return`Parameter Set: ${t.data.paramSet.name??""}`},actions:p=>{var N=Zr();v(p,N)}});var m=r(i,2),u=a(m),x=a(u),l=a(x),c=a(l),d=r(a(c),2),f=a(d,!0);e(d),e(c);var w=r(c,2),h=r(a(w),2),b=a(h,!0);e(h),e(w);var S=r(w,2),P=r(a(S),2),M=a(P,!0);e(P),e(S),e(l),e(x),e(u);var G=r(u,2);{var q=y=>{var p=to(),N=r(a(p),2),E=a(N),O=a(E),L=r(a(O),2),H=a(L,!0);e(L),e(O);var K=r(O,2),V=r(a(K),2),X=a(V,!0);e(V),e(K);var Z=r(K,2),ft=r(a(Z),2),F=a(ft,!0);e(ft),e(Z);var B=r(Z,2);{var Y=Q=>{var $=$r(),lt=r(a($),2),xt=a(lt,!0);e(lt),e($),k(()=>_(xt,t.data.paramSet.embedding.batch_size)),v(Q,$)};R(B,Q=>{t.data.paramSet.embedding.batch_size&&Q(Y)})}e(E),e(N),e(p),k(()=>{_(H,t.data.paramSet.embedding.model),_(X,t.data.paramSet.embedding.provider),_(F,t.data.paramSet.embedding.dimensions)}),v(y,p)};R(G,y=>{t.data.paramSet.embedding&&y(q)})}var T=r(G,2);{var A=y=>{var p=ao(),N=r(a(p),2),E=a(N),O=a(E),L=r(a(O),2),H=a(L,!0);e(L),e(O);var K=r(O,2),V=r(a(K),2),X=a(V);e(V),e(K);var Z=r(K,2),ft=r(a(Z),2),F=a(ft);e(ft),e(Z);var B=r(Z,2);{var Y=Q=>{var $=eo(),lt=r(a($),2),xt=a(lt);e(lt),e($),k(()=>_(xt,`${t.data.paramSet.chunking.min_size??""} tokens`)),v(Q,$)};R(B,Q=>{t.data.paramSet.chunking.min_size&&Q(Y)})}e(E),e(N),e(p),k(()=>{_(H,t.data.paramSet.chunking.strategy),_(X,`${t.data.paramSet.chunking.max_size??""} tokens`),_(F,`${t.data.paramSet.chunking.overlap??""} tokens`)}),v(y,p)};R(T,y=>{t.data.paramSet.chunking&&y(A)})}var W=r(T,2);{var j=y=>{var p=so(),N=r(a(p),2),E=a(N),O=a(E),L=r(a(O),2),H=a(L,!0);e(L),e(O);var K=r(O,2),V=r(a(K),2),X=a(V,!0);e(V),e(K);var Z=r(K,2);{var ft=Y=>{var Q=ro(),$=r(a(Q),2),lt=a($,!0);e($),e(Q),k(()=>_(lt,t.data.paramSet.parsing.ocr_enabled?"Yes":"No")),v(Y,Q)};R(Z,Y=>{t.data.paramSet.parsing.ocr_enabled!==void 0&&Y(ft)})}var F=r(Z,2);{var B=Y=>{var Q=oo(),$=r(a(Q),2),lt=a($,!0);e($),e(Q),k(()=>_(lt,t.data.paramSet.parsing.language)),v(Y,Q)};R(F,Y=>{t.data.paramSet.parsing.language&&Y(B)})}e(E),e(N),e(p),k(()=>{_(H,t.data.paramSet.parsing.extract_tables?"Yes":"No"),_(X,t.data.paramSet.parsing.extract_images?"Yes":"No")}),v(y,p)};R(W,y=>{t.data.paramSet.parsing&&y(j)})}var I=r(W,2);{var U=y=>{var p=no(),N=a(p);Ft(N,{get data(){return t.data.paramSet.custom},title:"Custom Parameters"}),e(p),v(y,p)};R(I,y=>{t.data.paramSet.custom&&Object.keys(t.data.paramSet.custom).length>0&&y(U)})}var C=r(I,2),D=a(C);Ft(D,{get data(){return t.data.paramSet},title:"Complete Parameter Set (JSON)"}),e(C),e(m),e(o),k(()=>{_(f,t.data.paramSet.id),_(b,t.data.paramSet.name),_(M,t.data.paramSet.target)}),v(n,o),nt()}const vo=Object.freeze(Object.defineProperty({__proto__:null,component:lo,universal:Kr},Symbol.toStringTag,{value:"Module"})),co=async()=>{try{return{definitions:await mt.getWorkflowDefinitions()}}catch(n){return console.error("Failed to load workflow definitions:",n),{definitions:[],error:n}}},uo=Object.freeze(Object.defineProperty({__proto__:null,load:co},Symbol.toStringTag,{value:"Module"}));var fo=g('<div class="mt-6"><!></div>'),mo=g('<div class="mt-6"><!></div>'),go=g('<div class="mt-6 grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3"></div>'),_o=g('<div class="mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8"><!> <!></div>');function xo(n,t){st(t,!0);var o=_o(),i=a(o);Dt(i,{title:"Workflow Definitions",description:"Browse available workflow configurations"});var m=r(i,2);{var u=l=>{var c=fo(),d=a(c);Lt(d,{get error(){return t.data.error}}),e(c),v(l,c)},x=l=>{var c=Ot(),d=bt(c);{var f=h=>{var b=mo(),S=a(b);Ut(S,{title:"No workflow definitions found",description:"There are no workflow definitions configured."}),e(b),v(h,b)},w=h=>{var b=go();ht(b,21,()=>t.data.definitions,S=>S.id,(S,P)=>{Ee(S,{get definition(){return s(P)},type:"workflow"})}),e(b),v(h,b)};R(d,h=>{t.data.definitions.length===0?h(f):h(w,!1)},!0)}v(l,c)};R(m,l=>{t.data.error?l(u):l(x,!1)})}e(o),v(n,o),nt()}const ho=Object.freeze(Object.defineProperty({__proto__:null,component:xo,universal:uo},Symbol.toStringTag,{value:"Module"})),wo=async({params:n})=>{try{return{definition:await mt.getWorkflowDefinition(n.id)}}catch(t){throw console.error("Failed to load workflow definition:",t),At(404,"Workflow definition not found")}},bo=Object.freeze(Object.defineProperty({__proto__:null,load:wo},Symbol.toStringTag,{value:"Module"}));var yo=g('<a href="/definitions/workflows" class="text-sm font-medium text-gray-600 hover:text-gray-900">‚Üê Back to definitions</a>'),po=g('<div class="rounded-lg bg-white p-8 text-center text-gray-500 shadow"><p>No steps defined in this workflow</p></div>'),ko=g('<div class="mt-4"><h4 class="text-sm font-medium text-gray-700">Configuration</h4> <pre class="mt-2 overflow-x-auto rounded bg-gray-50 p-3 text-xs text-gray-900"> </pre></div>'),So=g('<div class="mt-4"><h4 class="text-sm font-medium text-gray-700">Retry Configuration</h4> <pre class="mt-2 overflow-x-auto rounded bg-gray-50 p-3 text-xs text-gray-900"> </pre></div>'),Po=g('<div class="overflow-hidden rounded-lg border border-gray-200 bg-white"><div class="bg-gray-50 px-6 py-4"><div class="flex items-center gap-3"><span class="flex h-8 w-8 items-center justify-center rounded-full bg-blue-600 text-sm font-semibold text-white"> </span> <div><h3 class="font-semibold text-gray-900"> </h3> <p class="text-sm text-gray-600"> </p></div></div></div> <div class="px-6 py-4"><dl class="grid grid-cols-1 gap-4 sm:grid-cols-2"><div><dt class="text-sm font-medium text-gray-500">Handler</dt> <dd class="mt-1 font-mono text-xs text-gray-900"> </dd></div> <div><dt class="text-sm font-medium text-gray-500">Is Last Step</dt> <dd class="mt-1 text-sm text-gray-900"> </dd></div></dl> <!> <!></div></div>'),Ro=g('<div class="space-y-4"></div>'),Eo=g('<div class="mt-8"><!></div>'),Do=g('<div class="mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8"><!> <div class="mt-6"><div class="overflow-hidden rounded-lg bg-white shadow"><div class="px-6 py-5"><div class="grid grid-cols-1 gap-4 sm:grid-cols-2"><div><dt class="text-sm font-medium text-gray-500">Definition ID</dt> <dd class="mt-1 font-mono text-sm text-gray-900"> </dd></div> <div><dt class="text-sm font-medium text-gray-500">Name</dt> <dd class="mt-1 text-sm text-gray-900"> </dd></div> <div><dt class="text-sm font-medium text-gray-500">Total Steps</dt> <dd class="mt-1 text-sm text-gray-900"> </dd></div></div></div></div> <div class="mt-8"><h2 class="mb-4 text-lg font-semibold text-gray-900">Workflow Steps</h2> <!></div> <!> <div class="mt-8"><!></div></div></div>');function Oo(n,t){st(t,!0);const o=y=>Array.isArray(y.steps)?y.steps:y.steps&&typeof y.steps=="object"&&"items"in y.steps?y.steps.items:Array.isArray(y.items)?y.items:[],i=at(()=>o(t.data.definition).sort((y,p)=>y.step_number-p.step_number));var m=Do(),u=a(m);Dt(u,{get title(){return`Workflow Definition: ${t.data.definition.name??""}`},actions:p=>{var N=yo();v(p,N)}});var x=r(u,2),l=a(x),c=a(l),d=a(c),f=a(d),w=r(a(f),2),h=a(w,!0);e(w),e(f);var b=r(f,2),S=r(a(b),2),P=a(S,!0);e(S),e(b);var M=r(b,2),G=r(a(M),2),q=a(G,!0);e(G),e(M),e(d),e(c),e(l);var T=r(l,2),A=r(a(T),2);{var W=y=>{var p=po();v(y,p)},j=y=>{var p=Ro();ht(p,21,()=>s(i),N=>N.step_number,(N,E)=>{var O=Po(),L=a(O),H=a(L),K=a(H),V=a(K,!0);e(K);var X=r(K,2),Z=a(X),ft=a(Z,!0);e(Z);var F=r(Z,2),B=a(F);e(F),e(X),e(H),e(L);var Y=r(L,2),Q=a(Y),$=a(Q),lt=r(a($),2),xt=a(lt,!0);e(lt),e($);var Pt=r($,2),wt=r(a(Pt),2),Rt=a(wt,!0);e(wt),e(Pt),e(Q);var it=r(Q,2);{var ut=ot=>{var J=ko(),tt=r(a(J),2),dt=a(tt,!0);e(tt),e(J),k(gt=>_(dt,gt),[()=>JSON.stringify(s(E).config,null,2)]),v(ot,J)};R(it,ot=>{Object.keys(s(E).config).length>0&&ot(ut)})}var et=r(it,2);{var rt=ot=>{var J=So(),tt=r(a(J),2),dt=a(tt,!0);e(tt),e(J),k(gt=>_(dt,gt),[()=>JSON.stringify(s(E).retry_config,null,2)]),v(ot,J)};R(et,ot=>{s(E).retry_config&&ot(rt)})}e(Y),e(O),k(()=>{_(V,s(E).step_number),_(ft,s(E).step_name),_(B,`Type: ${s(E).step_type??""}`),_(xt,s(E).handler),_(Rt,s(E).is_last_step?"Yes":"No")}),v(N,O)}),e(p),v(y,p)};R(A,y=>{s(i).length===0?y(W):y(j,!1)})}e(T);var I=r(T,2);{var U=y=>{var p=Eo(),N=a(p);Ft(N,{get data(){return t.data.definition.metadata},title:"Workflow Metadata"}),e(p),v(y,p)};R(I,y=>{t.data.definition.metadata&&Object.keys(t.data.definition.metadata).length>0&&y(U)})}var C=r(I,2),D=a(C);Ft(D,{get data(){return t.data.definition},title:"Complete Definition (JSON)"}),e(C),e(x),e(m),k(()=>{_(h,t.data.definition.id),_(P,t.data.definition.name),_(q,s(i).length)}),v(n,m),nt()}const Co=Object.freeze(Object.defineProperty({__proto__:null,component:Oo,universal:bo},Symbol.toStringTag,{value:"Module"})),To=async()=>{try{const[n,t]=await Promise.all([mt.getRunGroups(),mt.getWorkflowRuns()]),o=n.slice(0,10),m=(await Promise.all(o.map(async h=>{try{const b=await mt.getRunGroupStats(h.id);return{runGroup:h,stats:b}}catch{return null}}))).filter(h=>h!==null),u=t.length,x=t.filter(h=>h.status===z.COMPLETED).length,l=t.filter(h=>h.status===z.FAILED||h.status===z.ERROR).length,c=t.filter(h=>h.status===z.RUNNING).length,d=u>0?Math.round(x/u*100):0,f=t.filter(h=>h.status===z.COMPLETED&&h.duration!==null),w=f.length>0?f.reduce((h,b)=>h+(b.duration||0),0)/f.length:0;return{systemStats:{totalWorkflows:u,completedWorkflows:x,failedWorkflows:l,activeWorkflows:c,successRate:d,avgDuration:w},runGroupStats:m}}catch(n){return console.error("Failed to load statistics:",n),{systemStats:{totalWorkflows:0,completedWorkflows:0,failedWorkflows:0,activeWorkflows:0,successRate:0,avgDuration:0},runGroupStats:[],error:n}}},jo=Object.freeze(Object.defineProperty({__proto__:null,load:To},Symbol.toStringTag,{value:"Module"}));var Io=g('<th scope="col" class="px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"> </th>'),Mo=g('<td class="whitespace-nowrap px-6 py-4 text-sm text-gray-900"> </td>'),No=g("<tr></tr>"),Wo=g('<div class="overflow-x-auto"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr></tr></thead><tbody class="divide-y divide-gray-200 bg-white"></tbody></table></div>');function Ao(n,t){st(t,!0);function o(d){t.onRowClick&&t.onRowClick(d)}function i(d,f){return f.format?f.format(d):d==null?"‚Äî":String(d)}var m=Wo(),u=a(m),x=a(u),l=a(x);ht(l,21,()=>t.columns,Et,(d,f)=>{var w=Io(),h=a(w,!0);e(w),k(()=>_(h,s(f).label)),v(d,w)}),e(l),e(x);var c=r(x);ht(c,21,()=>t.data,Et,(d,f)=>{var w=No();w.__click=()=>o(s(f)),ht(w,21,()=>t.columns,Et,(h,b)=>{var S=Mo(),P=a(S,!0);e(S),k(M=>_(P,M),[()=>i(s(f)[s(b).key],s(b))]),v(h,S)}),e(w),k(()=>kt(w,1,re(t.onRowClick?"cursor-pointer hover:bg-gray-50":""))),v(d,w)}),e(c),e(u),e(m),v(n,m),nt()}Wt(["click"]);var Lo=g('<div class="mt-6"><!></div>'),Bo=g('<div class="px-6 py-12 text-center text-gray-500"><p>No run group data available</p></div>'),Go=g('<div class="mt-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"><!> <!> <!> <!></div> <div class="mt-8"><div class="overflow-hidden rounded-lg bg-white shadow"><div class="px-6 py-5"><h3 class="text-lg font-semibold text-gray-900">Performance Metrics</h3> <div class="mt-4 grid grid-cols-1 gap-6 sm:grid-cols-3"><div><dt class="text-sm font-medium text-gray-500">Average Duration</dt> <dd class="mt-1 text-2xl font-semibold text-gray-900"> </dd></div> <div><dt class="text-sm font-medium text-gray-500">Active Workflows</dt> <dd class="mt-1 text-2xl font-semibold text-gray-900"> </dd></div> <div><dt class="text-sm font-medium text-gray-500">Total Run Groups</dt> <dd class="mt-1 text-2xl font-semibold text-gray-900"> </dd></div></div></div></div></div> <div class="mt-8"><div class="overflow-hidden rounded-lg bg-white shadow"><div class="border-b border-gray-200 px-6 py-4"><h3 class="text-lg font-semibold text-gray-900">Recent Run Groups</h3></div> <!></div></div>',1),zo=g('<div class="mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8"><!> <!></div>');function Fo(n,t){st(t,!0);const o=at(()=>t.data.runGroupStats.map(f=>({runGroupId:f.runGroup.id,batchId:f.runGroup.batch_id,workflow:f.runGroup.workflow_definition_id,created:Ct(f.runGroup.created_date),totalRuns:f.stats.total_runs,completed:f.stats.status_counts.COMPLETED||0,failed:(f.stats.status_counts.FAILED||0)+(f.stats.status_counts.ERROR||0),avgDuration:Mt(f.stats.avg_duration)}))),i=[{key:"runGroupId",label:"Run Group"},{key:"batchId",label:"Batch"},{key:"workflow",label:"Workflow"},{key:"created",label:"Created"},{key:"totalRuns",label:"Total Runs"},{key:"completed",label:"Completed"},{key:"failed",label:"Failed"},{key:"avgDuration",label:"Avg Duration"}];function m(f){ye(`/batches/${f.batchId}`)}var u=zo(),x=a(u);Dt(x,{title:"Statistics",description:"System-wide workflow and processing metrics"});var l=r(x,2);{var c=f=>{var w=Lo(),h=a(w);Lt(h,{get error(){return t.data.error}}),e(w),v(f,w)},d=f=>{var w=Go(),h=bt(w),b=a(h);jt(b,{title:"Total Workflows",get value(){return t.data.systemStats.totalWorkflows},icon:"‚öôÔ∏è"});var S=r(b,2);jt(S,{title:"Completed",get value(){return t.data.systemStats.completedWorkflows},description:"Successfully finished",icon:"‚úì"});var P=r(S,2);jt(P,{title:"Failed",get value(){return t.data.systemStats.failedWorkflows},description:"Requires attention",icon:"‚úó"});var M=r(P,2);jt(M,{title:"Success Rate",get value(){return`${t.data.systemStats.successRate??""}%`},icon:"üìä"}),e(h);var G=r(h,2),q=a(G),T=a(q),A=r(a(T),2),W=a(A),j=r(a(W),2),I=a(j,!0);e(j),e(W);var U=r(W,2),C=r(a(U),2),D=a(C,!0);e(C),e(U);var y=r(U,2),p=r(a(y),2),N=a(p,!0);e(p),e(y),e(A),e(T),e(q),e(G);var E=r(G,2),O=a(E),L=r(a(O),2);{var H=V=>{var X=Bo();v(V,X)},K=V=>{Ao(V,{get columns(){return i},get data(){return s(o)},onRowClick:m})};R(L,V=>{s(o).length===0?V(H):V(K,!1)})}e(O),e(E),k(V=>{_(I,V),_(D,t.data.systemStats.activeWorkflows),_(N,t.data.runGroupStats.length)},[()=>Mt(t.data.systemStats.avgDuration)]),v(f,w)};R(l,f=>{t.data.error?f(c):f(d,!1)})}e(u),v(n,u),nt()}const Uo=Object.freeze(Object.defineProperty({__proto__:null,component:Fo,universal:jo},Symbol.toStringTag,{value:"Module"})),me=20,Vo=async({url:n})=>{try{const t=n.searchParams.get("status"),o=n.searchParams.get("batch_id"),i=n.searchParams.get("page"),m=n.searchParams.get("limit"),u=o?parseInt(o):void 0,x=i?parseInt(i):1,l=m?parseInt(m):me;if(x<1||l<1)throw new Error("Invalid pagination parameters");const c={page:x,rows_per_page:l},d=!0;let f;return t&&Object.values(z).includes(t)?f=await mt.getWorkflowRunsByStatus(t,u,c,d):f=await mt.getWorkflowRuns(u,c,d),{workflowRuns:f,filters:{status:t,batchId:u},pagination:{page:x,limit:l}}}catch(t){return console.error("Failed to load workflows:",t),{workflowRuns:[],filters:{status:null,batchId:void 0},pagination:{page:1,limit:me},error:t}}},Ho=Object.freeze(Object.defineProperty({__proto__:null,load:Vo},Symbol.toStringTag,{value:"Module"}));var Jo=g("<option> </option>"),qo=g('<button type="button" class="inline-flex items-center gap-2 rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg> Refresh</button>'),Yo=g('<div class="flex items-center justify-between gap-4 rounded-lg bg-white p-4 shadow"><div class="flex items-center gap-4"><label for="status-filter" class="text-sm font-medium text-gray-700">Status:</label> <select id="status-filter" class="rounded-md border-gray-300 py-2 pl-3 pr-10 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500"></select></div> <!></div>');function Ko(n,t){st(t,!0);let o=It(t,"currentStatus",3,"all"),i=It(t,"showRefresh",3,!0);const m=[{value:"all",label:"All"},{value:z.PENDING,label:"Pending"},{value:z.RUNNING,label:"Running"},{value:z.COMPLETED,label:"Completed"},{value:z.ERROR,label:"Error"},{value:z.FAILED,label:"Failed"}];function u(b){const P=b.target.value;t.onStatusChange&&t.onStatusChange(P)}function x(){t.onRefresh&&t.onRefresh()}var l=Yo(),c=a(l),d=r(a(c),2);d.__change=u,ht(d,21,()=>m,Et,(b,S)=>{var P=Jo(),M=a(P,!0);e(P);var G={};k(()=>{_(M,s(S).label),G!==(G=s(S).value)&&(P.value=(P.__value=s(S).value)??"")}),v(b,P)}),e(d);var f;pe(d),e(c);var w=r(c,2);{var h=b=>{var S=qo();S.__click=x,v(b,S)};R(w,b=>{i()&&t.onRefresh&&b(h)})}e(l),k(()=>{f!==(f=o())&&(d.value=(d.__value=o())??"",ke(d,o()))}),v(n,l),nt()}Wt(["change","click"]);var Qo=g("<option> </option>"),Xo=g('<span class="px-3 py-2 text-sm text-gray-700">...</span>'),Zo=g('<button type="button"> </button>'),$o=g('<div class="flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between rounded-lg bg-white p-4 shadow"><div class="flex flex-col gap-4 sm:flex-row sm:items-center sm:gap-6"><div class="text-sm text-gray-700">Showing <span class="font-medium"> </span> to <span class="font-medium"> </span> of <span class="font-medium"> </span> results</div> <div class="flex items-center gap-2"><label for="page-size" class="text-sm text-gray-700">Rows per page:</label> <select id="page-size" class="rounded-md border-gray-300 py-1.5 pl-3 pr-8 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500"></select></div></div> <nav class="flex items-center gap-1" aria-label="Pagination"><button type="button" aria-label="Previous page"><svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg></button> <!> <button type="button" aria-label="Next page"><svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></button></nav></div>');function ts(n,t){st(t,!0);const o=[20,50,100],i=at(()=>(t.currentPage-1)*t.itemsPerPage+1),m=at(()=>Math.min(t.currentPage*t.itemsPerPage,t.totalItems)),u=at(()=>{const D=[];if(t.totalPages<=7)for(let p=1;p<=t.totalPages;p++)D.push(p);else{D.push(1),t.currentPage>3&&D.push("...");const p=Math.max(2,t.currentPage-1),N=Math.min(t.totalPages-1,t.currentPage+1);for(let E=p;E<=N;E++)D.push(E);t.currentPage<t.totalPages-2&&D.push("..."),D.push(t.totalPages)}return D});function x(D){var y;D!==t.currentPage&&D>=1&&D<=t.totalPages&&((y=t.onPageChange)==null||y.call(t,D))}function l(D){var N;const y=D.target,p=parseInt(y.value);(N=t.onPageSizeChange)==null||N.call(t,p)}function c(){t.currentPage>1&&x(t.currentPage-1)}function d(){t.currentPage<t.totalPages&&x(t.currentPage+1)}var f=$o(),w=a(f),h=a(w),b=r(a(h)),S=a(b,!0);e(b);var P=r(b,2),M=a(P,!0);e(P);var G=r(P,2),q=a(G,!0);e(G),Gt(),e(h);var T=r(h,2),A=r(a(T),2);A.__change=l,ht(A,21,()=>o,Et,(D,y)=>{var p=Qo(),N=a(p,!0);e(p);var E={};k(()=>{_(N,s(y)),E!==(E=s(y))&&(p.value=(p.__value=s(y))??"")}),v(D,p)}),e(A);var W;pe(A),e(T),e(w);var j=r(w,2),I=a(j);I.__click=c;var U=r(I,2);ht(U,17,()=>s(u),Et,(D,y)=>{var p=Ot(),N=bt(p);{var E=L=>{var H=Xo();v(L,H)},O=L=>{var H=Zo();H.__click=()=>x(s(y));var K=a(H,!0);e(H),k(()=>{kt(H,1,`min-w-[2.5rem] px-3 py-2 text-sm font-medium rounded-md
            ${s(y)===t.currentPage?"bg-blue-600 text-white":"text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500"}`),_t(H,"aria-label",`Page ${s(y)??""}`),_t(H,"aria-current",s(y)===t.currentPage?"page":void 0),_(K,s(y))}),v(L,H)};R(N,L=>{s(y)==="..."?L(E):L(O,!1)})}v(D,p)});var C=r(U,2);C.__click=d,e(j),e(f),k(()=>{_(S,s(i)),_(M,s(m)),_(q,t.totalItems),W!==(W=t.itemsPerPage)&&(A.value=(A.__value=t.itemsPerPage)??"",ke(A,t.itemsPerPage)),I.disabled=t.currentPage===1,kt(I,1,`inline-flex items-center justify-center px-3 py-2 text-sm font-medium rounded-md
        ${t.currentPage===1?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500"}`),C.disabled=t.currentPage===t.totalPages,kt(C,1,`inline-flex items-center justify-center px-3 py-2 text-sm font-medium rounded-md
        ${t.currentPage===t.totalPages?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500"}`)}),v(n,f),nt()}Wt(["change","click"]);var es=g('<div class="mt-6"><!></div>'),as=g('<div class="mt-6"><!></div>'),rs=g('<div class="mt-6"><!></div> <div class="mt-6"><!></div> <!>',1),os=g('<div class="mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8"><!> <!></div>');function ss(n,t){st(t,!0);const o=()=>he(we,"$page",i),[i,m]=_e(),u=at(()=>t.data.filters.status||"all"),x=at(()=>t.data.workflowRuns!==null&&typeof t.data.workflowRuns=="object"&&"items"in t.data.workflowRuns),l=at(()=>s(x)?t.data.workflowRuns.items:t.data.workflowRuns),c=at(()=>s(x)?{currentPage:t.data.workflowRuns.page,totalPages:t.data.workflowRuns.total_pages,totalItems:t.data.workflowRuns.total,itemsPerPage:t.data.workflowRuns.rows_per_page}:null);function d(T){const A=new URL(o().url);Object.entries(T).forEach(([W,j])=>{j===null?A.searchParams.delete(W):A.searchParams.set(W,j)}),ye(A.toString())}function f(T){d({status:T==="all"?null:T,page:"1"})}function w(T){d({page:String(T)})}function h(T){d({limit:String(T),page:"1"})}function b(){window.location.reload()}var S=os(),P=a(S);Dt(P,{title:"Workflow Runs",description:"Monitor workflow runs and their status"});var M=r(P,2);{var G=T=>{var A=es(),W=a(A);Lt(W,{get error(){return t.data.error},retry:b}),e(A),v(T,A)},q=T=>{var A=rs(),W=bt(A),j=a(W);Ko(j,{get currentStatus(){return s(u)},onStatusChange:f,onRefresh:b}),e(W);var I=r(W,2),U=a(I);oe(U,{get workflows(){return s(l)}}),e(I);var C=r(I,2);{var D=y=>{var p=as(),N=a(p);ts(N,{get currentPage(){return s(c).currentPage},get totalPages(){return s(c).totalPages},get totalItems(){return s(c).totalItems},get itemsPerPage(){return s(c).itemsPerPage},onPageChange:w,onPageSizeChange:h}),e(p),v(y,p)};R(C,y=>{s(x)&&s(c)&&y(D)})}v(T,A)};R(M,T=>{t.data.error?T(G):T(q,!1)})}e(S),v(n,S),nt(),m()}const ns=Object.freeze(Object.defineProperty({__proto__:null,component:ss,universal:Ho},Symbol.toStringTag,{value:"Module"})),is=async({params:n})=>{try{const t=parseInt(n.id);if(isNaN(t))throw At(400,"Invalid workflow ID");return{workflow:await mt.getWorkflowRunDetails(t)}}catch(t){throw console.error("Failed to load workflow:",t),At(404,"Workflow not found")}},ds=Object.freeze(Object.defineProperty({__proto__:null,load:is},Symbol.toStringTag,{value:"Module"}));var ls=g('<div><dt class="font-medium text-gray-700">Worker</dt> <dd class="mt-1 text-gray-900"> </dd></div>'),vs=g('<div class="mt-3"><dt class="font-medium text-gray-700">Status Message</dt> <dd class="mt-1 text-gray-900"> </dd></div>'),cs=g('<div class="mt-3"><dt class="font-medium text-gray-700">Metadata</dt> <dd class="mt-1"><pre class="overflow-x-auto rounded bg-gray-100 p-2 text-xs text-gray-900"> </pre></dd></div>'),us=g('<div class="border-t border-gray-200 bg-gray-50 px-4 py-3"><dl class="grid grid-cols-1 gap-3 text-sm sm:grid-cols-2"><div><dt class="font-medium text-gray-700">Status</dt> <dd class="mt-1 text-gray-900"> </dd></div> <div><dt class="font-medium text-gray-700">Started</dt> <dd class="mt-1 text-gray-900"> </dd></div> <div><dt class="font-medium text-gray-700">Completed</dt> <dd class="mt-1 text-gray-900"> </dd></div> <div><dt class="font-medium text-gray-700">Duration</dt> <dd class="mt-1 text-gray-900"> </dd></div> <div><dt class="font-medium text-gray-700">Retries</dt> <dd class="mt-1 text-gray-900"> </dd></div> <!></dl> <!> <!></div>'),fs=g('<div class="rounded-lg border border-gray-200 bg-white"><button type="button" class="w-full px-4 py-3 text-left hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500"><div class="flex items-center gap-3"><span aria-hidden="true"> </span> <div class="flex-1"><div class="flex items-center gap-2"><span class="font-medium text-gray-900"> </span> <!></div> <div class="mt-1 text-xs text-gray-500"> <!></div></div> <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></div></button> <!></div>'),ms=g('<div class="space-y-2"></div>');function gs(n,t){st(t,!0);let o=pt(ze(new Set));function i(c){s(o).has(c)?s(o).delete(c):s(o).add(c),ct(o,new Set(s(o)),!0)}function m(c){switch(c){case z.COMPLETED:return"‚úì";case z.RUNNING:return"‚ü≥";case z.PENDING:return"‚è∏";case z.ERROR:return"‚ö†";case z.FAILED:return"‚úó";default:return"‚Ä¢"}}function u(c){switch(c){case z.COMPLETED:return"text-green-600";case z.RUNNING:return"text-blue-600 animate-pulse";case z.PENDING:return"text-gray-400";case z.ERROR:return"text-orange-600";case z.FAILED:return"text-red-600";default:return"text-gray-500"}}const x=at(()=>[...t.steps].sort((c,d)=>c.workflow_step_number-d.workflow_step_number));var l=ms();ht(l,21,()=>s(x),c=>c.id,(c,d)=>{var f=fs(),w=a(f);w.__click=()=>i(s(d).id);var h=a(w),b=a(h),S=a(b,!0);e(b);var P=r(b,2),M=a(P),G=a(M),q=a(G);e(G);var T=r(G,2);Tt(T,{get status(){return s(d).status},compact:!0}),e(M);var A=r(M,2),W=a(A),j=r(W);{var I=y=>{var p=ge();k(N=>_(p,`‚Ä¢ Duration: ${N??""}`),[()=>Mt(s(d).duration)]),v(y,p)};R(j,y=>{s(d).duration!==null&&y(I)})}e(A),e(P);var U=r(P,2);e(h),e(w);var C=r(w,2);{var D=y=>{var p=us(),N=a(p),E=a(N),O=r(a(E),2),L=a(O,!0);e(O),e(E);var H=r(E,2),K=r(a(H),2),V=a(K,!0);e(K),e(H);var X=r(H,2),Z=r(a(X),2),ft=a(Z,!0);e(Z),e(X);var F=r(X,2),B=r(a(F),2),Y=a(B,!0);e(B),e(F);var Q=r(F,2),$=r(a(Q),2),lt=a($);e($),e(Q);var xt=r(Q,2);{var Pt=et=>{var rt=ls(),ot=r(a(rt),2),J=a(ot,!0);e(ot),e(rt),k(()=>_(J,s(d).worker_id)),v(et,rt)};R(xt,et=>{s(d).worker_id&&et(Pt)})}e(N);var wt=r(N,2);{var Rt=et=>{var rt=vs(),ot=r(a(rt),2),J=a(ot,!0);e(ot),e(rt),k(()=>_(J,s(d).status_message)),v(et,rt)};R(wt,et=>{s(d).status_message&&et(Rt)})}var it=r(wt,2);{var ut=et=>{var rt=cs(),ot=r(a(rt),2),J=a(ot),tt=a(J,!0);e(J),e(ot),e(rt),k(dt=>_(tt,dt),[()=>JSON.stringify(s(d).status_meta,null,2)]),v(et,rt)};R(it,et=>{Object.keys(s(d).status_meta).length>0&&et(ut)})}e(p),k((et,rt,ot)=>{_(L,s(d).status),_(V,et),_(ft,rt),_(Y,ot),_(lt,`${s(d).retry??""}/${s(d).retries??""}`)},[()=>Ct(s(d).start_date),()=>Ct(s(d).completed_date),()=>Mt(s(d).duration)]),v(y,p)};R(C,y=>{s(o).has(s(d).id)&&y(D)})}e(f),k((y,p,N)=>{kt(b,1,`text-lg ${y??""}`),_(S,p),_(q,`${s(d).workflow_step_number??""}. ${s(d).workflow_step_name??""}`),_(W,`Type: ${s(d).step_type??""} `),kt(U,0,`h-5 w-5 text-gray-400 transition-transform ${N??""}`)},[()=>u(s(d).status),()=>m(s(d).status),()=>s(o).has(s(d).id)?"rotate-180":""]),v(c,f)}),e(l),v(n,l),nt()}Wt(["click"]);var _s=g('<a href="/workflows" class="text-sm font-medium text-gray-600 hover:text-gray-900">‚Üê Back to workflows</a>'),xs=g('<div><dt class="text-sm font-medium text-gray-500">Progress</dt> <dd class="mt-1 text-sm text-gray-900"> </dd></div>'),hs=g('<div class="mt-6 rounded-md bg-gray-50 p-4"><h3 class="text-sm font-medium text-gray-700">Status Message</h3> <p class="mt-1 text-sm text-gray-900"> </p></div>'),ws=g('<div class="mt-6 rounded-md bg-gray-50 p-4"><h3 class="text-sm font-medium text-gray-700">Status Metadata</h3> <pre class="mt-2 overflow-x-auto text-xs text-gray-900"> </pre></div>'),bs=g('<div class="mt-8"><h2 class="mb-4 text-lg font-semibold text-gray-900">Workflow Steps</h2> <!></div>'),ys=g('<div class="mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8"><!> <div class="mt-6"><div class="overflow-hidden rounded-lg bg-white shadow"><div class="px-6 py-5"><div class="flex items-start justify-between"><div class="flex-1"><div class="flex items-center gap-3"><h2 class="text-xl font-semibold text-gray-900"> </h2> <!></div> <p class="mt-2 text-sm text-gray-600">Document: <span class="font-mono text-xs"> </span></p></div></div> <div class="mt-6 grid grid-cols-1 gap-6 border-t border-gray-200 pt-6 sm:grid-cols-2 lg:grid-cols-3"><div><dt class="text-sm font-medium text-gray-500">Definition</dt> <dd class="mt-1 text-sm text-gray-900"><a class="text-blue-600 hover:text-blue-700"> </a></dd></div> <div><dt class="text-sm font-medium text-gray-500">Batch</dt> <dd class="mt-1 text-sm text-gray-900"><a class="text-blue-600 hover:text-blue-700"> </a></dd></div> <div><dt class="text-sm font-medium text-gray-500">Run Group</dt> <dd class="mt-1 text-sm text-gray-900"> </dd></div> <div><dt class="text-sm font-medium text-gray-500">Priority</dt> <dd class="mt-1 text-sm text-gray-900"> </dd></div> <div><dt class="text-sm font-medium text-gray-500">Created</dt> <dd class="mt-1 text-sm text-gray-900"> </dd></div> <div><dt class="text-sm font-medium text-gray-500">Started</dt> <dd class="mt-1 text-sm text-gray-900"> </dd></div> <div><dt class="text-sm font-medium text-gray-500">Completed</dt> <dd class="mt-1 text-sm text-gray-900"> </dd></div> <div><dt class="text-sm font-medium text-gray-500">Duration</dt> <dd class="mt-1 text-sm text-gray-900"> </dd></div> <!></div> <!> <!></div></div> <!></div></div>');function ps(n,t){st(t,!0);const o=at(()=>t.data.workflow.steps&&t.data.workflow.steps.length>0),i=at(()=>{var J;return((J=t.data.workflow.steps)==null?void 0:J.filter(tt=>tt.status==="COMPLETED").length)||0}),m=at(()=>{var J;return((J=t.data.workflow.steps)==null?void 0:J.length)||0});var u=ys(),x=a(u);Dt(x,{get title(){return`Workflow Run #${t.data.workflow.id??""}`},actions:tt=>{var dt=_s();v(tt,dt)}});var l=r(x,2),c=a(l),d=a(c),f=a(d),w=a(f),h=a(w),b=a(h),S=a(b);e(b);var P=r(b,2);Tt(P,{get status(){return t.data.workflow.status}}),e(h);var M=r(h,2),G=r(a(M)),q=a(G,!0);e(G),e(M),e(w),e(f);var T=r(f,2),A=a(T),W=r(a(A),2),j=a(W),I=a(j,!0);e(j),e(W),e(A);var U=r(A,2),C=r(a(U),2),D=a(C),y=a(D);e(D),e(C),e(U);var p=r(U,2),N=r(a(p),2),E=a(N);e(N),e(p);var O=r(p,2),L=r(a(O),2),H=a(L,!0);e(L),e(O);var K=r(O,2),V=r(a(K),2),X=a(V,!0);e(V),e(K);var Z=r(K,2),ft=r(a(Z),2),F=a(ft,!0);e(ft),e(Z);var B=r(Z,2),Y=r(a(B),2),Q=a(Y,!0);e(Y),e(B);var $=r(B,2),lt=r(a($),2),xt=a(lt,!0);e(lt),e($);var Pt=r($,2);{var wt=J=>{var tt=xs(),dt=r(a(tt),2),gt=a(dt);e(dt),e(tt),k(()=>_(gt,`${s(i)??""}/${s(m)??""} steps`)),v(J,tt)};R(Pt,J=>{s(o)&&J(wt)})}e(T);var Rt=r(T,2);{var it=J=>{var tt=hs(),dt=r(a(tt),2),gt=a(dt,!0);e(dt),e(tt),k(()=>_(gt,t.data.workflow.status_message)),v(J,tt)};R(Rt,J=>{t.data.workflow.status_message&&J(it)})}var ut=r(Rt,2);{var et=J=>{var tt=ws(),dt=r(a(tt),2),gt=a(dt,!0);e(dt),e(tt),k(Bt=>_(gt,Bt),[()=>JSON.stringify(t.data.workflow.status_meta,null,2)]),v(J,tt)};R(ut,J=>{Object.keys(t.data.workflow.status_meta).length>0&&J(et)})}e(d),e(c);var rt=r(c,2);{var ot=J=>{var tt=bs(),dt=r(a(tt),2);{let gt=at(()=>t.data.workflow.steps||[]);gs(dt,{get steps(){return s(gt)}})}e(tt),v(J,tt)};R(rt,J=>{s(o)&&J(ot)})}e(l),e(u),k((J,tt,dt,gt,Bt)=>{_(S,`Workflow #${t.data.workflow.id??""}`),_(q,J),_t(j,"href",`/definitions/workflows/${t.data.workflow.workflow_definition_id??""}`),_(I,t.data.workflow.workflow_definition_id),_t(D,"href",`/batches/${t.data.workflow.batch_id??""}`),_(y,`#${t.data.workflow.batch_id??""}`),_(E,`#${t.data.workflow.run_group_id??""}`),_(H,t.data.workflow.priority),_(X,tt),_(F,dt),_(Q,gt),_(xt,Bt)},[()=>zt(t.data.workflow.doc_id,60),()=>Ct(t.data.workflow.created_date),()=>Ct(t.data.workflow.start_date),()=>Ct(t.data.workflow.completed_date),()=>Mt(t.data.workflow.duration)]),v(n,u),nt()}const ks=Object.freeze(Object.defineProperty({__proto__:null,component:ps,universal:ds},Symbol.toStringTag,{value:"Module"}));export{jo as A,Fo as B,Ho as C,ss as D,ds as E,ps as F,Qe as _,qe as a,Is as b,Ms as c,Ts as d,js as e,sa as f,ma as g,Se as h,$a as i,ar as j,wr as k,pr as l,Es as m,Os as n,Ar as o,Gr as p,Jr as q,Ds as r,Cs as s,Kr as t,lo as u,Rs as v,uo as w,xo as x,bo as y,Oo as z};

import{a as mt,P as Bt}from"../chunks/zI6Ey5o2.js";import{c as ct,a as n,f as x,s,t as Ct}from"../chunks/DRP4mRRp.js";import{p as lt,f as W,a as xt,c as e,s as a,r as t,g as l,t as M,u as Et}from"../chunks/pasavVN_.js";import{i as b}from"../chunks/B7f9mVOY.js";import{E as Pt}from"../chunks/CTvwDldY.js";import{e as Vt,s as Rt}from"../chunks/CCxkpujE.js";import{T as jt}from"../chunks/DQJyJeco.js";import{t as Q}from"../chunks/Or1p4CJ_.js";import{E as zt}from"../chunks/DJM7b0oa.js";const Mt=async({params:u})=>{try{const[d,_]=await Promise.all([mt.getLanceDBInfo(u.name),mt.getLanceDBDocuments(u.name)]);return{dbName:u.name,info:d,documents:_}}catch(d){return console.error("Failed to load LanceDB info:",d),{dbName:u.name,info:null,documents:null,error:d}}},se=Object.freeze(Object.defineProperty({__proto__:null,load:Mt},Symbol.toStringTag,{value:"Module"}));var Ut=x('<tr class="hover:bg-gray-50"><td class="whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-900"> </td><td class="px-6 py-4 text-sm text-gray-600"> </td><td class="px-6 py-4 text-sm text-gray-600"> </td><td class="whitespace-nowrap px-6 py-4 text-right text-sm text-gray-600"> </td><td class="whitespace-nowrap px-6 py-4 text-sm text-gray-600"><!></td></tr>'),Ht=x('<div class="overflow-hidden rounded-lg border border-gray-200 bg-white shadow"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr><th scope="col" class="px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500">ID</th><th scope="col" class="px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500">URI</th><th scope="col" class="px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500">Title</th><th scope="col" class="px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500">Chunks</th><th scope="col" class="px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500">Created</th></tr></thead><tbody class="divide-y divide-gray-200 bg-white"></tbody></table></div>');function Ot(u,d){lt(d,!0);var _=ct(),L=W(_);{var V=f=>{zt(f,{title:"No documents found",description:"This database does not contain any documents yet."})},U=f=>{var N=Ht(),i=e(N),v=a(e(i));Vt(v,21,()=>d.documents,g=>g.id,(g,c)=>{var y=Ut(),w=e(y),T=e(w,!0);t(w);var p=a(w),B=e(p,!0);t(p);var h=a(p),C=e(h,!0);t(h);var k=a(h),H=e(k,!0);t(k);var D=a(k),R=e(D);{var O=m=>{jt(m,{get date(){return l(c).created_at},compact:!0,showUtc:!1})},E=m=>{var P=Ct("-");n(m,P)};b(R,m=>{l(c).created_at?m(O):m(E,!1)})}t(D),t(y),M((m,P,j)=>{s(T,m),Rt(p,"title",l(c).uri),s(B,P),s(C,j),s(H,l(c).chunk_count??"-")},[()=>Q(l(c).id,12),()=>Q(l(c).uri,40),()=>l(c).title?Q(l(c).title,30):"-"]),n(g,y)}),t(v),t(i),t(N),n(f,N)};b(L,f=>{d.documents.length===0?f(V):f(U,!1)})}n(u,_),xt()}var At=x('<a href="/lancedb" class="text-sm font-medium text-gray-600 hover:text-gray-900">← Back to databases</a>'),Ft=x('<div class="mt-6"><!></div>'),Gt=x('<span class="inline-flex items-center rounded-full bg-green-100 px-3 py-1 text-sm font-medium text-green-800">✓ Indexed</span>'),qt=x('<span class="inline-flex items-center rounded-full bg-gray-100 px-3 py-1 text-sm font-medium text-gray-800">No index</span>'),Jt=x('<div class="mt-6 border-t border-gray-200 pt-6"><h3 class="text-sm font-medium text-gray-700">Vector Index Status</h3> <div class="mt-3 grid grid-cols-1 gap-4 sm:grid-cols-2"><div><dt class="text-sm text-gray-500">Indexed Rows</dt> <dd class="mt-1 text-sm font-medium text-green-600"> </dd></div> <div><dt class="text-sm text-gray-500">Unindexed Rows</dt> <dd class="mt-1 text-sm font-medium text-orange-600"> </dd></div></div></div>'),Kt=x('<div class="mt-8"><div class="mb-4 flex items-center justify-between"><h2 class="text-lg font-semibold text-gray-900"> </h2></div> <!></div>'),Qt=x('<div class="mt-6"><div class="overflow-hidden rounded-lg bg-white shadow"><div class="px-6 py-5"><div class="grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4"><div><dt class="text-sm font-medium text-gray-500">Documents</dt> <dd class="mt-1 text-lg font-semibold text-gray-900"> </dd></div> <div><dt class="text-sm font-medium text-gray-500">Chunks</dt> <dd class="mt-1 text-lg font-semibold text-gray-900"> </dd></div> <div><dt class="text-sm font-medium text-gray-500">Storage</dt> <dd class="mt-1 text-lg font-semibold text-gray-900"> </dd></div> <div><dt class="text-sm font-medium text-gray-500">Vector Index</dt> <dd class="mt-1"><!></dd></div></div> <div class="mt-6 border-t border-gray-200 pt-6"><h3 class="text-sm font-medium text-gray-700">Embeddings Configuration</h3> <div class="mt-3 grid grid-cols-1 gap-4 sm:grid-cols-3"><div><dt class="text-sm text-gray-500">Provider</dt> <dd class="mt-1 text-sm font-medium text-gray-900"> </dd></div> <div><dt class="text-sm text-gray-500">Model</dt> <dd class="mt-1 text-sm font-medium text-gray-900"> </dd></div> <div><dt class="text-sm text-gray-500">Dimensions</dt> <dd class="mt-1 text-sm font-medium text-gray-900"> </dd></div></div></div> <!></div> <div class="border-t border-gray-200 bg-gray-50 px-6 py-4"><h3 class="text-sm font-medium text-gray-700">Version Information</h3> <div class="mt-3 flex flex-wrap gap-4 text-sm"><div><span class="text-gray-500">LanceDB:</span> <span class="ml-1 font-medium text-gray-900"> </span></div> <div><span class="text-gray-500">Haiku RAG:</span> <span class="ml-1 font-medium text-gray-900"> </span></div> <div><span class="text-gray-500">Stored Version:</span> <span class="ml-1 font-medium text-gray-900"> </span></div></div></div></div></div> <!>',1),Wt=x('<div class="mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8"><!> <!></div>');function ie(u,d){lt(d,!0);const _=Et(()=>{var i;return((i=d.data.info)==null?void 0:i.vector_index.exists)??!1});var L=Wt(),V=e(L);Bt(V,{get title(){return`Database: ${d.data.dbName??""}`},actions:v=>{var g=At();n(v,g)}});var U=a(V,2);{var f=i=>{var v=Ft(),g=e(v);Pt(g,{get error(){return d.data.error}}),t(v),n(i,v)},N=i=>{var v=ct(),g=W(v);{var c=y=>{var w=Qt(),T=W(w),p=e(T),B=e(p),h=e(B),C=e(h),k=a(e(C),2),H=e(k,!0);t(k),t(C);var D=a(C,2),R=a(e(D),2),O=e(R,!0);t(R),t(D);var E=a(D,2),m=a(e(E),2),P=e(m);t(m),t(E);var j=a(E,2),X=a(e(j),2),gt=e(X);{var ut=r=>{var o=Gt();n(r,o)},ft=r=>{var o=qt();n(r,o)};b(gt,r=>{l(_)?r(ut):r(ft,!1)})}t(X),t(j),t(h);var A=a(h,2),Y=a(e(A),2),F=e(Y),Z=a(e(F),2),_t=e(Z,!0);t(Z),t(F);var G=a(F,2),$=a(e(G),2),yt=e($,!0);t($),t(G);var tt=a(G,2),et=a(e(tt),2),pt=e(et,!0);t(et),t(tt),t(Y),t(A);var ht=a(A,2);{var bt=r=>{var o=Jt(),S=a(e(o),2),I=e(S),z=a(e(I),2),K=e(z,!0);t(z),t(I);var nt=a(I,2),vt=a(e(nt),2),Lt=e(vt,!0);t(vt),t(nt),t(S),t(o),M((Nt,Tt)=>{s(K,Nt),s(Lt,Tt)},[()=>d.data.info.vector_index.indexed_rows.toLocaleString(),()=>d.data.info.vector_index.unindexed_rows.toLocaleString()]),n(r,o)};b(ht,r=>{l(_)&&r(bt)})}t(B);var at=a(B,2),dt=a(e(at),2),q=e(dt),rt=a(e(q),2),wt=e(rt,!0);t(rt),t(q);var J=a(q,2),st=a(e(J),2),kt=e(st,!0);t(st),t(J);var it=a(J,2),ot=a(e(it),2),Dt=e(ot,!0);t(ot),t(it),t(dt),t(at),t(p),t(T);var St=a(T,2);{var It=r=>{var o=Kt(),S=e(o),I=e(S),z=e(I);t(I),t(S);var K=a(S,2);Ot(K,{get documents(){return d.data.documents.documents}}),t(o),M(()=>s(z,`Documents (${d.data.documents.document_count??""})`)),n(r,o)};b(St,r=>{d.data.documents&&r(It)})}M((r,o)=>{s(H,r),s(O,o),s(P,`${d.data.info.documents.size_human??""} + ${d.data.info.chunks.size_human??""}`),s(_t,d.data.info.embeddings.provider??"Not configured"),s(yt,d.data.info.embeddings.model??"Not configured"),s(pt,d.data.info.embeddings.vector_dim??"-"),s(wt,d.data.info.versions.lancedb),s(kt,d.data.info.versions.haiku_rag),s(Dt,d.data.info.versions.stored_version)},[()=>d.data.info.documents.count.toLocaleString(),()=>d.data.info.chunks.count.toLocaleString()]),n(y,w)};b(g,y=>{d.data.info&&y(c)},!0)}n(i,v)};b(U,i=>{d.data.error?i(f):i(N,!1)})}t(L),n(u,L),xt()}export{ie as component,se as universal};

import{a as se,j as be,P as _e}from"../chunks/zI6Ey5o2.js";import{d as ne,f as c,s as h,e as xe,a as n,c as ue,t as ye}from"../chunks/DRP4mRRp.js";import{p as ve,as as S,x as he,R as Se,g as a,y as e,s as o,c as l,r as s,at as we,t as j,a as ce,f as X,n as Pe,u as oe}from"../chunks/pasavVN_.js";import{i as p}from"../chunks/B7f9mVOY.js";import{s as je,e as ie}from"../chunks/CCxkpujE.js";import{D as de}from"../chunks/G2LsYyfj.js";import{E as Le}from"../chunks/DJM7b0oa.js";import{E as Ee}from"../chunks/CTvwDldY.js";import{b as Me,L as Ue}from"../chunks/BucLHc3f.js";import{i as ke}from"../chunks/L8TLXicd.js";const Ye=async()=>{try{return{paramSets:await se.getParamSets()}}catch(Y){return console.error("Failed to load parameter sets:",Y),{paramSets:[],error:Y}}},st=Object.freeze(Object.defineProperty({__proto__:null,load:Ye},Symbol.toStringTag,{value:"Module"}));var Ce=c('<p class="mt-1 text-sm text-red-600" role="alert"> </p>'),Ae=c('<p class="mt-1 text-sm text-green-600"> <!></p>'),Fe=c('<div><dt class="inline font-medium">Name:</dt> <dd class="ml-1 inline"> </dd></div>'),De=c('<div class="rounded-md bg-blue-50 p-3"><h4 class="text-sm font-medium text-blue-900">Preview</h4> <dl class="mt-2 space-y-1 text-xs text-blue-800"><div><dt class="inline font-medium">ID:</dt> <dd class="ml-1 inline"> </dd></div> <!> <div><dt class="inline font-medium">Steps configured:</dt> <dd class="ml-1 inline"> </dd></div></dl></div>'),Ie=c('<div class="rounded-md bg-red-50 p-3" role="alert"><p class="text-sm text-red-800"> </p></div>'),Ne=c('<div class="rounded-md bg-green-50 p-3" role="alert"><p class="text-sm text-green-800"> </p></div>'),qe=c("<!> <span>Uploading...</span>",1),Oe=c("<span>Upload Parameter Set</span>"),Te=c('<div class="rounded-lg border border-gray-200 bg-white p-6 shadow"><h3 class="text-lg font-semibold text-gray-900">Upload Parameter Set</h3> <p class="mt-1 text-sm text-gray-600">Create a new parameter set by pasting YAML content below</p> <form class="mt-4 space-y-4"><div><div class="mb-2 flex items-center justify-between"><label for="yaml-content" class="block text-sm font-medium text-gray-700">YAML Content</label> <button type="button" class="text-sm text-blue-600 hover:text-blue-700 disabled:text-gray-400"> </button></div> <textarea id="yaml-content" rows="12" class="block w-full rounded-md border-gray-300 font-mono text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 disabled:bg-gray-100 disabled:text-gray-500" placeholder="id: my_params config:   parse:     do_ocr: false   ..."></textarea> <!></div> <!> <!> <!> <div class="flex justify-end gap-2"><button type="button" class="rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:cursor-not-allowed disabled:bg-gray-100 disabled:text-gray-400">Clear</button> <button type="submit" class="inline-flex items-center gap-2 rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:cursor-not-allowed disabled:bg-gray-400"><!></button></div></form></div>');function ze(Y,_){ve(_,!0);let d=S(""),L=S(!1),b=S(null),E=S(null),v=S(null),g=S(null),x=S(he([])),u=S(null),C=S(!1);Se(()=>{if(!a(d).trim()){e(v,null),e(g,null),e(x,[],!0),e(u,null);return}try{const t=be.load(a(d));if(!t||typeof t!="object"){e(u,"YAML must be an object"),e(v,null);return}const r=t;if(!r.id){e(u,"Missing required field: id"),e(v,null);return}if(!r.config||typeof r.config!="object"){e(u,"Missing or invalid required field: config"),e(v,null);return}e(v,String(r.id),!0),e(g,r.name?String(r.name):null,!0),e(x,Object.keys(r.config),!0),e(u,null)}catch(t){e(u,t instanceof Error?t.message:"Invalid YAML syntax",!0),e(v,null),e(g,null),e(x,[],!0)}});async function V(t){if(t.preventDefault(),!a(d).trim()){e(b,"YAML content is required");return}if(a(u)){e(b,`Cannot submit: ${a(u)}`);return}e(L,!0),e(b,null),e(E,null);try{const r=await se.uploadParamSet(a(d));e(E,`Parameter set '${r.id}' uploaded successfully`),e(d,""),e(v,null),e(g,null),e(x,[],!0),_.onSuccess&&setTimeout(_.onSuccess,1500)}catch(r){e(b,r instanceof Error?r.message:"Failed to upload parameter set",!0)}finally{e(L,!1)}}function Z(){e(d,""),e(v,null),e(g,null),e(x,[],!0),e(u,null),e(b,null),e(E,null)}async function $(){e(C,!0),e(b,null);try{const t=await se.getParamSetYaml("default");e(d,t,!0)}catch(t){e(b,t instanceof Error?`Failed to load default: ${t.message}`:"Failed to load default",!0)}finally{e(C,!1)}}var q=Te(),O=o(l(q),4),i=l(O),m=l(i),y=o(l(m),2);y.__click=$;var ee=l(y,!0);s(y),s(m);var A=o(m,2);we(A);var M=o(A,2);{var U=t=>{var r=Ce(),f=l(r,!0);s(r),j(()=>h(f,a(u))),n(t,r)},F=t=>{var r=ue(),f=X(r);{var P=I=>{var B=Ae(),H=l(B),ae=o(H);{var Q=N=>{var W=ye();j(()=>h(W,`(Name: ${a(g)??""})`)),n(N,W)};p(ae,N=>{a(g)&&N(Q)})}s(B),j(()=>h(H,`Valid YAML - ID: ${a(v)??""} `)),n(I,B)};p(f,I=>{a(v)&&I(P)},!0)}n(t,r)};p(M,t=>{a(u)?t(U):t(F,!1)})}s(i);var G=o(i,2);{var J=t=>{var r=De(),f=o(l(r),2),P=l(f),I=o(l(P),2),B=l(I,!0);s(I),s(P);var H=o(P,2);{var ae=R=>{var re=Fe(),le=o(l(re),2),pe=l(le,!0);s(le),s(re),j(()=>h(pe,a(g))),n(R,re)};p(H,R=>{a(g)&&R(ae)})}var Q=o(H,2),N=o(l(Q),2),W=l(N,!0);s(N),s(Q),s(f),s(r),j(R=>{h(B,a(v)),h(W,R)},[()=>a(x).join(", ")]),n(t,r)};p(G,t=>{a(v)&&a(x).length>0&&t(J)})}var T=o(G,2);{var w=t=>{var r=Ie(),f=l(r),P=l(f,!0);s(f),s(r),j(()=>h(P,a(b))),n(t,r)};p(T,t=>{a(b)&&t(w)})}var k=o(T,2);{var K=t=>{var r=Ne(),f=l(r),P=l(f,!0);s(f),s(r),j(()=>h(P,a(E))),n(t,r)};p(k,t=>{a(E)&&t(K)})}var D=o(k,2),z=l(D);z.__click=Z;var te=o(z,2),me=l(te);{var fe=t=>{var r=qe(),f=X(r);Ue(f,{size:"sm"}),Pe(2),n(t,r)},ge=t=>{var r=Oe();n(t,r)};p(me,t=>{a(L)?t(fe):t(ge,!1)})}s(te),s(D),s(O),s(q),j(()=>{y.disabled=a(C),h(ee,a(C)?"Loading...":"Load Default"),A.disabled=a(L),z.disabled=a(L)||!a(d),te.disabled=a(L)||!a(d)||!!a(u)}),xe("submit",O,V),Me(A,()=>a(d),t=>e(d,t)),n(Y,q),ce()}ne(["click"]);var Be=c('<div class="mt-6"><!></div>'),He=c('<div class="mt-6"><!></div>'),Re=c('<div class="mt-6"><!></div>'),Ve=c('<div class="mt-6"><h2 class="mb-4 text-base font-semibold text-gray-900">User-Uploaded Parameters</h2> <div class="grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3"></div></div>'),Ge=c('<!> <div class="mt-6"><h2 class="mb-4 text-base font-semibold text-gray-900">Built-in Parameters</h2> <div class="grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3"></div></div>',1),Je=c('<div class="mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8"><div class="flex items-center justify-between"><!> <button class="rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2"> </button></div> <!> <!></div>');function lt(Y,_){ve(_,!0);let d=S(!1);async function L(){e(d,!1),await ke()}const b=oe(()=>_.data.paramSets.filter(i=>!i.source||i.source==="app")),E=oe(()=>_.data.paramSets.filter(i=>i.source==="user"));var v=Je(),g=l(v),x=l(g);_e(x,{title:"Parameter Sets",description:"Browse and manage parameter configurations"});var u=o(x,2);u.__click=()=>e(d,!a(d));var C=l(u,!0);s(u),s(g);var V=o(g,2);{var Z=i=>{var m=Be(),y=l(m);ze(y,{onSuccess:L}),s(m),n(i,m)};p(V,i=>{a(d)&&i(Z)})}var $=o(V,2);{var q=i=>{var m=He(),y=l(m);Ee(y,{get error(){return _.data.error}}),s(m),n(i,m)},O=i=>{var m=ue(),y=X(m);{var ee=M=>{var U=Re(),F=l(U);Le(F,{title:"No parameter sets found",description:"There are no parameter sets configured."}),s(U),n(M,U)},A=M=>{var U=Ge(),F=X(U);{var G=w=>{var k=Ve(),K=o(l(k),2);ie(K,21,()=>a(E),D=>D.id,(D,z)=>{de(D,{get definition(){return a(z)},type:"param"})}),s(K),s(k),n(w,k)};p(F,w=>{a(E).length>0&&w(G)})}var J=o(F,2),T=o(l(J),2);ie(T,21,()=>a(b),w=>w.id,(w,k)=>{de(w,{get definition(){return a(k)},type:"param"})}),s(T),s(J),n(M,U)};p(y,M=>{_.data.paramSets.length===0?M(ee):M(A,!1)},!0)}n(i,m)};p($,i=>{_.data.error?i(q):i(O,!1)})}s(v),j(()=>{je(u,"aria-expanded",a(d)),h(C,a(d)?"Hide Upload Form":"Upload New Parameter Set")}),n(Y,v),ce()}ne(["click"]);export{lt as component,st as universal};
